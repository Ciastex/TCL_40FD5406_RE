
var keyBoardSymbolPage1         = [[["1"],["2"],["3"],["4"],["5"],["6"],["7"],["8"],["9"],["0"],["back"]],[["\\"],["#"],["$"],["%"],["&"],["*"],["("],[")"],["/"],["_"],["..."]],[["symPage1"],[","],["."],["?"],["!"],[":"],[";"],["\""],["'"],["<"],[">"]]];
var keyBoardSymbolPage2         = [[["["],["]"],["{"],["}"],["+"],["-"],["×"],["÷"],["="],["±"],["back"]],[["«"],["»"],["¦"],["´"],["^"],["~"],["©"],["®"],["¥"],["£"],["€"]],[["symPage2"],["www."],["wap."],[".com"],[".cn"],[".org"],[".net"],["bbs."],["blog."],["http:"],["3g."]]];
var enCapitalLetter             = [[["Q"],["W"],["E"],["R"],["T"],["Y"],["U"],["I"],["O"],["P"],["back"]],[["A"],["S"],["D"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z"],["X"],["C"],["V"],["B"],["N"],["M"],[","],["."],["?"]]];//大写字母集
var enMinuscules                = [[["q"],["w"],["e"],["r"],["t"],["y"],["u"],["i"],["o"],["p"],["back"]],[["a"],["s"],["d"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z"],["x"],["c"],["v"],["b"],["n"],["m"],[","],["."],["?"]]];//小写字母集

var fraCapitalLetter            = [[["Q"],["W"],["E","Ė","Ē","Ę","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Ü","Û","Ù","Ú"],["I","Ī","Į","Ì","Î","Ï","Í"],["O","Ō","Õ","Ø","Ó","Ö ","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","Ā","À","Â","Æ","Á","Ä"],["S"],["D"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z"],["X"],["C","Č","Ç","Ć"],["V"],["B"],["N","Ñ","Ń"],["M"],[","],["."],["?"]]];//大写字母集
var fraMinuscules               = [[["q"],["w"],["e","ė","ē","ę","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","ü","û","ù","ú"],["i","ī","į","ì","î","ï","í"],["o","ō","õ","ø","ó","ö","ô","œ","ò"],["p"],["back"]],[["a","ã","å","ā","à","â","æ","á","ä"],["s"],["d"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z"],["x"],["c","č","ç","ć"],["v"],["b"],["n","ñ","ń"],["m"],[","],["."],["?"]]];//小写字母集

var porCapitalLetter            = [[["Q"],["W"],["E","Ė","Ē","Ę","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Ü","Û","Ù","Ú"],["I","Ī","Į","Ì","Î","Ï","Í"],["O","Ō","Õ","Ø","Ó","Ö ","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","Ā","À","Â","Æ","Á","Ä"],["S"],["D"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z"],["X"],["C","Č","Ç","Ć"],["V"],["B"],["N","Ñ","Ń"],["M"],[","],["."],["?"]]];//大写字母集
var porMinuscules               = [[["q"],["w"],["e","ė","ē","ę","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","ü","û","ù","ú"],["i","ī","į","ì","î","ï","í"],["o","ō","õ","ø","ó","ö","ô","œ","ò"],["p"],["back"]],[["a","ã","å","ā","à","â","æ","á","ä"],["s"],["d"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z"],["x"],["c","č","ç","ć"],["v"],["b"],["n","ñ","ń"],["m"],[","],["."],["?"]]];//小写字母集

var espCapitalLetter           = [[["Q"],["W"],["E","Ė","Ē","Ę","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Ü","Û","Ù","Ú"],["I","Ī","Į","Ì","Î","Ï","Í"],["O","Ō","Õ","Ø","Ó","Ö ","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","Ā","À","Â","Æ","Á","Ä"],["S","Š"],["D","Đ"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z"],["X"],["C","Č","Ç","Ć"],["V"],["B"],["N","Ñ","Ń"],["M"],[","],["."],["?"]]];//大写字母集
var espMinuscules              = [[["q"],["w"],["e","ė","ē","ę","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","ü","û","ù","ú"],["i","ī","į","ì","î","ï","í"],["o","ō","õ","ø","ó","ö","ô","œ","ò"],["p"],["back"]],[["a","ã","å","ā","à","â","æ","á","ä"],["s","š"],["d","đ"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z"],["x"],["c","č","ç","ć"],["v"],["b"],["n","ñ","ń"],["m"],[","],["."],["?"]]];//小写字母集

var deuCapitalLetter           = [[["Q"],["W"],["E","Ė","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Û","Ù","Ú"],["I","Ī","Ì","Î","Ï","Í"],["O","Ō","Õ","Ø","Ó","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","Ā","À","Â","Æ","Á"],["S","Š","Ś","ß"],["D"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z"],["X"],["C","Č","Ç","Ć"],["V"],["B"],["N","Ñ","Ń"],["M"],[","],["."],["?"]]];//大写字母集
var deuMinuscules              = [[["q"],["w"],["e","ė","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","û","ù","ú"],["i","ī","ì","î","ï","í"],["o","ō","õ","ø","ó","ô","œ","ò"],["p"],["back"]],[["a","ã","å","ā","à","â","æ","á"],["s","š","ś","ß"],["d"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z"],["x"],["c","č","ç","ć"],["v"],["b"],["n","ñ","ń"],["m"],[","],["."],["?"]]];//小写字母集


var polCapitalLetter           = [[["Q"],["W"],["E","Ė","Ē","Ę","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Û","Ù","Ú"],["I"],["O","Ō","Õ","Ø","Ó","Ö","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","À","Â","Æ","Á","Ä","Ą","Ā"],["S","Š","Ś","ß"],["D"],["F"],["G"],["H"],["J"],["K"],["L","Ł"],["!"],["/"]],[["shift"],["Z","Ž","Ż","Ź"],["X"],["C","Č","Ç","Ć"],["V"],["B"],["N","Ñ","Ń"],["M"],[","],["."],["?"]]];//大写字母集
var polMinuscules              = [[["q"],["w"],["e","ė","ē","ę","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","û","ù","ú"],["i"],["o","ō","õ","ø","ó","ö","ô","œ","ò"],["p"],["back"]],[["a","ã","å","à","â","æ","á","ä","ą","ā"],["s","š","ś","ß"],["d"],["f"],["g"],["h"],["j"],["k"],["l","ł"],["!"],["/"]],[["shift"],["z","ž","ż","ź"],["x"],["c","č","ç","ć"],["v"],["b"],["n","ñ","ń"],["m"],[","],["."],["?"]]];//小写字母集


var sveCapitalLetter            = [[["Q"],["W"],["E","Ę","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Ü","Û","Ù","Ú"],["I"],["O","Ō","Õ","Ó","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","Á","Ä"],["S","Š","Ś","ß"],["D"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z","Ž","Ż","Ź"],["X"],["C"],["V"],["B"],["N"],["M"],[","],["."],["?"]]];//大写字母集
var sveMinuscules               = [[["q"],["w"],["e","ę","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","ü","û","ù","ú"],["i"],["o","ō","õ","ó","ô","œ","ò"],["p"],["back"]],[["a","ã","å","á","ä"],["s","š","ś","ß"],["d"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z","ž","ż","ź"],["x"],["c"],["v"],["b"],["n"],["m"],[","],["."],["?"]]];//小写字母集

var itaCapitalLetter            = [[["Q"],["W"],["E","Ė","Ē","Ę","Ê","É","È","Ë"],["R"],["T"],["Y","Ÿ"],["U","Ū","Ü","Û","Ù","Ú"],["I","Ī","Į","Ì","Î","Ï","Í"],["O","Ō","Õ","Ø","Ó","Ö","Ô","Œ","Ò"],["P"],["back"]],[["A","Ã","Å","Ā","À","Â","Æ","Á","Ä"],["S"],["D"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z","Ž","Ż","Ź"],["X"],["C"],["V"],["B"],["N"],["M"],[","],["."],["?"]]];//大写字母集
var itaMinuscules               = [[["q"],["w"],["e","ė","ē","ę","ê","é","è","ë"],["r"],["t"],["y","ÿ"],["u","ū","ü","û","ù","ú"],["i","ī","į","ì","î","ï","í"],["o","ō","õ","ø","ó","ö","ô","œ","ò"],["p"],["back"]],[["a","ã","å","ā","à","â","æ","á","ä"],["s"],["d"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z","ž","ż","ź"],["x"],["c"],["v"],["b"],["n"],["m"],[","],["."],["?"]]];//小写字母集

var pycCapitalLetter            = [[["Й"],["Ц"],["У"],["К"],["Е","Ё"],["Н"],["Г"],["Ш"],["Щ"],["З"],["back"]],[["Х"],["Ф"],["Ы"],["В"],["А"],["П"],["Р"],["О"],["Л"],["Д"],["Ж"]],[["shift"],["Э"],["Я"],["Ч"],["С"],["М"],["И"],["Т"],["Ь"],["Б"],["Ю"]]];
var pycMinuscules               = [[["Й"],["ц"],["у"],["к"],["е","ё"],["н"],["г"],["ш"],["щ"],["з"],["back"]],[["х"],["ф"],["ы"],["в"],["а"],["п"],["р"],["о"],["л"],["д"],["ж"]],[["shift"],["э"],["я"],["ч"],["с"],["м"],["и"],["т"],["ь"],["б"],["ю"]]];
var pycBoardSymbolPage1         = [[["1"],["2"],["3"],["4"],["5"],["6"],["7"],["8"],["9"],["0"],["\\"],["back"]],[["@"],["#"],["$"],["%"],["&"],["*"],["("],[")"],["/"],["_"],["..."]],[["symPage1"],[","],["."],["?"],["!"],[":"],[";"],["\""],["'"],["<"],[">"]]];
var pycBoardSymbolPage2         = [[["["],["]"],["{"],["}"],["+"],["-"],["×"],["÷"],["="],["±"],["°"],["back"]],[["«"],["»"],["¦"],["´"],["^"],["~"],["©"],["®"],["¥"],["£"],["€"]],[["symPage2"],["www."],["wap."],[".com"],[".cn"],[".org"],[".net"],["bbs."],["blog."],["http:"],["3g."]]];

var fasCapitalLetter			=[[["ض"],["ص"],["ث"],["ق"],["ف"],["غ"],["ع"],["ه"],["خ"],["ح"],["ج"],["back"]],[["ش"],["س"],["ی"],["ب"],["ل"],["آ"],["ا"],["ت"],["ن"],["م"],["ک"],["گ"]],[["ي"],["ئ"],["ظ"],["ط"],["ژ"],["لا"],["ر"],["ذ"],["د"],["پ"],["و"],["چ"]]];
var fasMinuscules				=[[["ض"],["ص"],["ث"],["ق"],["ف"],["غ"],["ع"],["ه"],["خ"],["ح"],["ج"],["back"]],[["ش"],["س"],["ی"],["ب"],["ل"],["آ"],["ا"],["ت"],["ن"],["م"],["ک"],["گ"]],[["ي"],["ئ"],["ظ"],["ط"],["ژ"],["لا"],["ر"],["ذ"],["د"],["پ"],["و"],["چ"]]];
var fasBoardSymbolPage1			=[["۱","۲","۳","۴","۵","۶","۷","۸","۹","۰","back"],["\\","#","$","%","&","*","(",")","/","_","ت ومان"],["symPage1","،","ـ","؟","!",":","؛","\"","'","<",">"]];
var fasBoardSymbolPage2			=[["[","]","{","}","+","-","×","÷","=","±","back"],["«","»","¦","´","^","~","©","®","¥","£","€"],["symPage2","www.","wap.",".com",".cn",".org",".net","bbs.","blog.","http:","3g."]];

var vieCapitalLetter 			=[[["Q"],["W","Ư"],["E","É","È","Ẻ","Ẽ","Ẹ"],["R"],["T"],["Y","Ỳ","Ỷ","Ỹ","Ý","Ỵ"],["U","Ứ","Ừ","Ử","Ữ","Ự"],["I","Í","Ì","Ỉ","Ĩ","Ị"],["O","Ó","Ò","Ỏ","Õ","Ọ"],["P"],["back"]],[["A","Á","À","Ả","Ã","Ạ"],["S"],["D","Đ"],["F"],["G"],["H"],["J"],["K"],["L"],["!"],["/"]],[["shift"],["Z"],["X"],["C"],["V"],["B"],["N"],["M"],[","],["."],["?"]]];
var vieMinuscules				=[[["q"],["w","ư"],["e","é","è","ẻ","ẽ","ẹ"],["r"],["t"],["y","ỳ","ỷ","ỹ","ý","ỵ"],["u","ứ","ừ","ử","ữ","ự"],["i","í","ì","ỉ","ĩ","ị"],["o","ó","ò","ỏ","õ","ọ"],["p"],["back"]],[["a","á","à","ả","ã","ạ"],["s"],["d","đ"],["f"],["g"],["h"],["j"],["k"],["l"],["!"],["/"]],[["shift"],["z"],["x"],["c"],["v"],["b"],["n"],["m"],[","],["."],["?"]]];

var hboCapitalLetter			=[[["/"],["׳"],["ק"],["ר"],["א"],["ט"],["ו"],["ן"],["ם"],["פ"],["back"]],[["ש"],["ד"],["ג"],["כ"],["ע"],["י"],["ח"],["ל"],["ך"],["ף"],[","]],[["ז"],["ס"],["ב"],["ה"],["נ"],["מ"],["צ"],["ת"],["ץ"],["."],[";"]]];
var hboMinuscules				=[[["/"],["׳"],["ק"],["ר"],["א"],["ט"],["ו"],["ן"],["ם"],["פ"],["back"]],[["ש"],["ד"],["ג"],["כ"],["ע"],["י"],["ח"],["ל"],["ך"],["ף"],[","]],[["ז"],["ס"],["ב"],["ה"],["נ"],["מ"],["צ"],["ת"],["ץ"],["."],[";"]]];

var tnzCapitalLetter			=[[["+"],["๑"],["๒"],["๓"],["๔"],["ู "],["฿"],["๕"],["๖"],["๗"],["๘"],["๙"]],[["๐"],["\""],["ฎ"],["ฑ"],["ธ"],["ํ "],["๊ "],["ณ"],["ฯ"],["ญ"],["ฐ"],[","]],[["ฤ"],["ฆ"],["ฏ"],["โ"],["ฌ"],["็ "],["๋ "],["ษ"],["ศ"],["ซ"],["."],["\u0E05"]],[["shift"],["("],[")"],["ฉ"],["ฮ"],["ฺ "],["์ "],["?"],["ฒ"],["ฬ"],["ฦ"],["back"]]];
var tnzMinuscules 				=[[["ๅ"],["/"],["-"],["ภ"],["ถ"],["ุ "],["ึ "],["ค"],["ต"],["จ"],["ข"],["ช"]],[["ใ"],["ไ"],["ำ"],["พ"],["ะ"],["ั "],["ี "],["ร"],["น"],["ย"],["บ"],["ล"]],[["ฟ"],["ห"],["ก"],["ด"],["เ"],["้ "],["่ "],["า"],["ส"],["ว"],["ง"],["\u0E03"]],[["shift"],["ผ"],["ป"],["แ"],["อ"],["ิ "],["ื "],["ท"],["ม"],["ใ"],["ฝ"],["back"]]];

var arbCapitalLetter            =[[["١"],["٢"],["٣"],["٤"],["٥"],["٦"],["٧"],["٨"],["٩"],["٠"],["back"]],[["\u0651 "],["\u064E "],["\u064B "],["\u064F "],["\u064C "],["\u0650 "],["\u064D "],["\u0652 "],["-"],["،"],[":"]],[["shift"],["ء"],["ؤ"],["أل"],["إل"],["آل"],["أ"],["إ"],["آ"],["؛"],["؟"]]];
var arbMinuscules               =[[["ذ"],["ض"],["ص"],["ث"],["ق"],["ف"],["غ"],["ع"],["خ"],["ح"],["ج"],["back"]],[["ش"],["س"],["ي"],["ب"],["ل"],["ا"],["ت"],["ن"],["م"],["ك"],["ط"],["د"]],[["shift"],["ء"],["ؤ"],["ئ"],["ر"],["لا"],["ى"],["ة"],["ه"],["و"],["ز"],["ظ"]]];

var  mgtMinuscules           =[[["й"],["ц"],["у"],["к"],["е"],["н"],["г"],["ш"],["щ"],["з"],["ъ"],["back"]],[["ф"],["ы"],["в"],["а"],["п"],["р"],["о"],["л"],["д"],["ж"],["э"],["ё"]],[["shift"],["я"],["ч"],["с"],["м"],["и"],["т"],["ь"],["б"],["ю"],["х"],["ӯ"]]];
var  mgtCapitalLetter             =[[["Й"],["Ц"],["У"],["К"],["Е"],["Н"],["Г"],["Ш"],["Щ"],["З"],["Ъ"],["back"]],[["Ф"],["Ы"],["В"],["А"],["П"],["Р"],["О"],["Л"],["Д"],["Ж"],["Э"],["Ё"]],[["shift"],["Я"],["Ч"],["С"],["М"],["И"],["Т"],["Ь"],["Б"],["Ю"],["Х"],["Ү"]]];

var prefix;
var spansFocus;
var cabImgs;
var checkImg;
var ButtonImg;
var ImgFocus;
var settingImg;
var keyBoardChar              = enMinuscules;
var langList                  = ["EN","FRA","POR","ESP","DEU","POL","SVE","ITA","PYC","FAS","VIE","HBO","TNZ","ARB","MGT"];
var language                  = ["English","Francaise","Portugal","Española","Deutsch","Polski","Svenska","Italian","Russian","Persian","Vietnamese","Hebrew","Thailand","Arabic","Mongol"];
var spanList;
var imgList;
var mulCharList;
var charFlag                  =0;//0表示为字母  1 表示符号
var letterCapFlag             =0;//0表示小写   1表示大写
var positionH                 =0;
var positionV                 =0;
var mulPositionV              =0;
var setPositionH              =0;
var selectImgList;
var selectSpanList;
var symbolPageFlag            =0;//0表示第一页 1表示第二页
var countryList               =[-1,-1,-1];
var countryCount              = 0;

var curCountry                =0;
var keyBoardFocus                 ="keyboard";
var keyBoardFlag              =0;
var mouseCallBack             = {Url:"",funcOk:function(){},funcBack:function(){},funcMouseUp:function(){}};
var positionHBackup			  =0;
var positionVBackup			  =0;
var keyBoardCharRow			  =3;
var keyBoardCharColumn		  =11;
//滚动条使用
var PositionHoffset           = 0;
var SCROLL_START_TOP		= 100;			//滚动条起始的top位置
var DISPLAY_COUNT			= 12;			//每一次最多可以显示的行数
var SCROLL_MAX_HEIGHT		= 850;			//滚动条可以滚动范围长度 700


function initSetRegionKeyboard()
{
    prefix = top.g_setting.getProperty("ro.sita.model.Apps.ui_branch", "file:///system/ui_tcl/framework.html");
    prefix = prefix.replace("framework.html", "");
    spansFocus  = [prefix+"images/Focus_1.png",prefix+"images/Focus_1-2.png"];
    cabImgs    = [prefix+"images/Caps_s_1.png",prefix+"images/Caps_A_1.png"];
    checkImg   =[prefix+"images/option/check_1.png",prefix+"images/option/check_3.png"];
    ButtonImg = ["url('"+prefix+"images/key_Button_1.png')","url('"+prefix+"images/key_Button_2.png')","url('"+prefix+"images/key_Button_3.png')","url('"+prefix+"images/key_Button_4.png')"];
    ImgFocus = [prefix+"images/Focus_2.png",prefix+"images/Focus3_1.png",prefix+"images/Focus5_1.png"];
    settingImg = [prefix+"images/Icon-Sourse_Focus.png",prefix+"images/Icon-Sourse_Focus.png"];
    keyBoardCharRow = 3;
    keyBoardCharColumn = 11;
}


function $(id)
{
    return document.getElementById(id);
}
function checkKeyBoardEnable()
{
	var k=0;
	for(var i=0;i<language.length;i++)
	{
		if(top.g_setting.getKeyBoardEnable(i)==1)
		{
            console.log("===============checkKeyBoardEnable->i="+i);
			countryList[k]=i;
			k++;
		}
		if(k>=3)
		{
			break;
		}
	}
	countryCount=k;
    console.log("===============checkKeyBoardEnable->countryCount="+countryCount);
	//如果用户未选择语言，则将英语设置为默认语言
	if (countryCount == 0)
	{
        countryCount = 1;
        countryList[0] = 0;
        top.g_setting.setKeyBoardEnable(0,1);
	}
}
function tobackKeyBoard()
{
	if(keyBoardFocus == "keySetting")
	{
		hiddenKeySetting();
		return "settingBack";
	}
	else
	{
		document.body.removeChild($("keyBoardBg"));
		document.body.removeChild($("showMulChar"));
		charFlag                  =0;//0表示为字母  1 表示符号
		letterCapFlag             =0;//0表示小写   1表示大写
		positionH                 =0;
		positionV                 =0;
		mulPositionV              =0;
		symbolPageFlag            =0;//0表示第一页 1表示第二页
		keyBoardFocus             ="keyboard";  
		keyBoardFlag              =0;
		return "menuBack";
	}
}
function hiddenKeyBoard()
{
	if(keyBoardFlag==1)
	{
		if(keyBoardFocus == "keySetting")
		{
			hiddenKeySetting();
		}
		document.body.removeChild($("keyBoardBg"));
		document.body.removeChild($("showMulChar"));
		charFlag                  =0;//0表示为字母  1 表示符号
		letterCapFlag             =0;//0表示小写   1表示大写
		positionH                 =0;
		positionV                 =0;
		mulPositionV              =0;
		symbolPageFlag            =0;//0表示第一页 1表示第二页
		keyBoardFocus             ="keyboard";  
		keyBoardFlag              =0;
	}
}

function showKeyBoard()
{
	initSetRegionKeyboard();
    curCountry =top.g_setting.currentKeyBoardIndex;
    console.log("===================================curCountry="+curCountry);
    checkKeyBoardEnable();
	switch(curCountry)
	{
		case 0:
		{
			keyBoardChar = enMinuscules;
			keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 1:
		{
			keyBoardChar = fraMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 2:
		{
			keyBoardChar = porMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 3:
		{
			keyBoardChar = espMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 4:
		{
			keyBoardChar = deuMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 5:
		{
			keyBoardChar = polMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 6:
		{
			keyBoardChar = sveMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 7:
		{
			keyBoardChar = itaMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 8:
		{
			keyBoardChar = pycMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 9:
		{
            keyBoardChar = fasMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 12;
		}
		break;
		case 10:
		{
            keyBoardChar = vieMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 11:
		{
			keyBoardChar = hboMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 12:
		{
			keyBoardChar = tnzMinuscules;
            keyBoardCharRow = 4;
            keyBoardCharColumn = 12;
		}
		break;
        case 13:
        {
            keyBoardChar = arbMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 12;
        }
        break;
        case 14:
        {
            keyBoardChar = mgtMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 12;
        }
        break;
    }
    console.log("=====keyBoardCharRow="+keyBoardCharRow+"=====keyBoardCharColumn="+keyBoardCharColumn);

    {
        document.body.onmousedown = function (evt) {
            evt.preventDefault();
        };
        document.body.onmouseup = function (evt) {
            mouseCallBack.funcMouseUp(evt);
        };
        keyBoardFlag = 1;
        var bgDiv = document.createElement("div");
        if(keyBoardCharRow == 4){
            bgDiv.style.height = "560px";/*460*/
            bgDiv.style.top = "516px";/*616*/
        } else{
            bgDiv.style.height = "460px";/*460*/
            bgDiv.style.top = "616px";/*616*/
        }
        bgDiv.style.width = "1920px";
        bgDiv.style.position = "absolute";
        bgDiv.style.background = "#000000";
        bgDiv.style.borderTop = "4px solid #1b1b1b";
        //bgDiv.style.opacity="0.92";
        bgDiv.style.zIndex = "500";
        bgDiv.id = "keyBoardBg";
        try {
            bgDiv.onmousedown = function (evt) {
                evt.preventDefault();
                top.timeoutFuc.osdTimeoutEndFuc();
                if (evt.button == 2) {
                    mouseCallBack.funcBack();
                }
                top.timeoutFuc.osdTimeoutStartFuc();
                //right key
            }
        } catch (er) {
            console.log("key:" + er);
        }
        document.body.appendChild(bgDiv);
        var bodyDiv = document.createElement("div");
        if(keyBoardCharRow == 4){
            bodyDiv.style.height = "540px";/*440*/
        }else{
            bodyDiv.style.height = "440px";/*440*/
        }
        bodyDiv.style.left = "135px";
        bodyDiv.style.width = "1630px";
        bodyDiv.style.position = "absolute";
        bodyDiv.style.top = "20px";
        bodyDiv.id = "keyBoard";
        $("keyBoardBg").appendChild(bodyDiv);
        try {
            for (var i = 0; i < keyBoardCharRow; i++) {
                for (var j = 0; j < keyBoardCharColumn; j++) {
                    var span = document.createElement("span");
                    span.style.position = "absolute";
                    span.style.width = "130px";
                    span.style.height = "80px";
                    span.style.textAlign = "center";
                    span.style.lineHeight = "70px";
                    span.style.color = "#aaaaaa";
                    span.style.margin = "10px 10px";
                    span.style.left = j * ((1630 - 130) / (keyBoardCharColumn - 1)) + "px";
                    span.style.top = i * 100 + "px";
                    span.style.fontSize = "36px";
                    span.setAttribute("newAttr", i);
                    span.setAttribute("newAttr1", j);
                    span.style.backgroundImage = ButtonImg[0];
                    span.onmousedown = function (evt) {
                        if (evt.button == 0) {
                            //right key
                            if (keyBoardFocus == "keyboard") {
                                spanList[positionH * keyBoardCharColumn + positionV].style.backgroundImage = showButtonImg();
                                positionH = parseInt(this.getAttribute("newAttr"));
                                positionV = parseInt(this.getAttribute("newAttr1"));
                                $("spanFocus").style.display = "block";
                                if(keyBoardCharColumn == 12)
                                {
                                    $("spanFocus").style.left = KEY_BOARD_START_OTHER + positionV * KEY_BOARD_STEP_WIDE + "px";
                                }
                                else
                                {
                                    $("spanFocus").style.left = KEY_BOARD_START_OTHER + positionV * KEY_BOARD_STEP_OTHER + "px";
                                }
                                $("spanFocus").style.top = KEY_BOARD_TOP_START_OTHER + positionH * KEY_BOARD_TOP_STEP_OTHER + "px";
                                $("imgFocus0").style.display = "none";
                                $("imgFocus1").style.display = "none";
                                $("imgFocus2").style.display = "none";
                                $("imgFocus3").style.display = "none";
                                $("imgFocus4").style.display = "none";
                                $("imgFocus5").style.display = "none";
                                mouseCallBack.funcOk()
                            }
                        }
                    }
                    $("keyBoard").appendChild(span);
                }
            }
        } catch (er) {
            console.log("key:" + er);
        }
        var spanFocus = document.createElement("img");
        spanFocus.style.position = "absolute";
        spanFocus.style.width = "160px";
        spanFocus.style.height = "110px";
        spanFocus.style.top = "-4px";
        spanFocus.style.left = "-4px";
        spanFocus.src = spansFocus[0];
        spanFocus.id = "spanFocus";
        spanFocus.style.zIndex = "100";
        spanFocus.onmousedown = function (evt) {
            if (evt.button == 0) {
                if (keyBoardFocus == "keyboard") {
                    mouseCallBack.funcOk();
                }
            }
        }
        $("keyBoard").appendChild(spanFocus);
        var span = document.createElement("span");
        span.style.position = "absolute";
        span.style.width = "205px";
        span.style.height = "80px";
        span.style.textAlign = "center";
        span.style.lineHeight = "70px";
        span.style.margin = "10px 10px";
        span.style.top = keyBoardCharRow * 100 + "px";/*300px*/
        span.id = "langBg";
        span.style.fontSize = "36px";
        span.style.color = "#aaaaaa";
        span.style.backgroundImage = ButtonImg[1];
        span.onmousedown = function (evt) {
            if (evt.button == 0) {
                //right key
                if (keyBoardFocus == "keyboard") {
                    spanList[positionH * keyBoardCharColumn + positionV].style.backgroundImage = showButtonImg();

                    positionH = keyBoardCharRow;
                    positionV = 0;
                    $("spanFocus").style.display = "none";
                    $("imgFocus0").style.display = "block";
                    $("imgFocus1").style.display = "none";
                    $("imgFocus2").style.display = "none";
                    $("imgFocus3").style.display = "none";
                    $("imgFocus4").style.display = "none";
                    $("imgFocus5").style.display = "none";
                    mouseCallBack.funcOk()
                }
            }
        }
        $("keyBoard").appendChild(span);
        var div = document.createElement("div");
        div.style.position = "absolute";
        div.style.width = "100px";
        div.style.height = "80px";
        div.style.textAlign = "left";
        div.style.lineHeight = "70px";
        div.style.margin = "5px";
        div.style.left = "100px";
        div.id = "langChange";
        div.innerHTML = "EN";
        $("langBg").appendChild(div);
        var span = document.createElement("span");
        span.style.position = "absolute";
        span.style.width = "205px";
        span.style.height = "80px";
        span.style.textAlign = "center";
        span.style.lineHeight = "70px";
        span.style.margin = "10px 10px";
        span.style.top = keyBoardCharRow * 100 + "px";
        span.style.left = "225px";
        span.style.fontSize = "36px";
        span.style.color = "#aaaaaa";
        span.innerHTML = "123#";
        span.style.fontFamily = "Segoe Condensed";
        span.id = "charChange";
        span.style.backgroundImage = ButtonImg[1];
        span.onmousedown = function (evt) {
            if (evt.button == 0) {
                //right key
                if (keyBoardFocus == "keyboard") {
                    spanList[positionH * keyBoardCharColumn + positionV].style.backgroundImage = showButtonImg();
                    positionH = keyBoardCharRow;
                    positionV = 1;
                    $("spanFocus").style.display = "none";
                    $("imgFocus0").style.display = "none";
                    $("imgFocus1").style.display = "block";
                    $("imgFocus2").style.display = "none";
                    $("imgFocus3").style.display = "none";
                    $("imgFocus4").style.display = "none";
                    $("imgFocus5").style.display = "none";
                    mouseCallBack.funcOk();
                }
            }
        }
        $("keyBoard").appendChild(span);
        var span = document.createElement("span");
        span.style.position = "absolute";
        span.style.width = "730px";
        span.style.height = "80px";
        span.style.textAlign = "center";
        span.style.lineHeight = "70px";
        span.style.margin = "10px 10px";
        span.style.top = keyBoardCharRow * 100 + "px";
        span.style.left = "450px";
        span.style.color = "#aaaaaa";
        span.style.fontSize = "36px";
        span.id = "space";
        span.style.backgroundImage = ButtonImg[3];
        span.onmousedown = function (evt) {
            if (evt.button == 0) {
                //right key
                if (keyBoardFocus == "keyboard") {
                    spanList[positionH * keyBoardCharColumn + positionV].style.backgroundImage = showButtonImg();
                    positionH = keyBoardCharRow;
                    positionV = 2;
                    $("spanFocus").style.display = "none";
                    $("imgFocus0").style.display = "none";
                    $("imgFocus1").style.display = "none";
                    $("imgFocus2").style.display = "block";
                    $("imgFocus3").style.display = "none";
                    $("imgFocus4").style.display = "none";
                    $("imgFocus5").style.display = "none";
                    mouseCallBack.funcOk();
                }
            }
        }
        $("keyBoard").appendChild(span);
        var span = document.createElement("span");
        span.style.position = "absolute";
        span.style.width = "130px";
        span.style.height = "80px";
        span.style.textAlign = "center";
        span.style.lineHeight = "70px";
        span.style.color = "#aaaaaa";
        span.style.margin = "10px 10px";
        span.style.top = keyBoardCharRow * 100 + "px";
        span.style.left = "1200px";
        span.style.fontSize = "36px";
        span.style.fontFamily = "Segoe Condensed";
        span.id = "netFlag";
       /* if (curCountry == 12)//thailand
		{
            span.innerHTML="ฝ";
		}
		else*/ if(curCountry == 13)//arabic
        {
            span.innerHTML="،";
        }
        else if(curCountry == 14)//mongol
        {
            span.innerHTML="ө";
        }
		else
		{
            span.innerHTML="@";
		}
		span.style.backgroundImage=ButtonImg[0];
		span.onmousedown = function(evt){
				if(evt.button == 0){
					//right key
					if(keyBoardFocus == "keyboard")
					{
						spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();

						positionH=keyBoardCharRow;
						positionV=3;
						$("spanFocus").style.display="none";
						$("imgFocus0").style.display="none";
						$("imgFocus1").style.display="none";
						$("imgFocus2").style.display="none";
						$("imgFocus3").style.display="block";
						$("imgFocus4").style.display="none";
						$("imgFocus5").style.display="none";
						mouseCallBack.funcOk()
					}
				}
			}
		$("keyBoard").appendChild(span);
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="130px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.color="#aaaaaa";
		span.style.margin="10px 10px";
		span.style.top=keyBoardCharRow*100+"px";
		span.style.left="1350px";
		span.style.fontSize="36px";
		span.id="setting";
		span.onmousedown = function(evt){
				if(evt.button == 0){
					//right key
					if(keyBoardFocus == "keyboard")
					{
						spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
						positionH=keyBoardCharRow;
						positionV=4;
						$("spanFocus").style.display="none";
						$("imgFocus0").style.display="none";
						$("imgFocus1").style.display="none";
						$("imgFocus2").style.display="none";
						$("imgFocus3").style.display="none";
						$("imgFocus4").style.display="block";
						$("imgFocus5").style.display="none";
						mouseCallBack.funcOk();
					}
				}
			}
		span.style.backgroundImage=ButtonImg[0];
		$("keyBoard").appendChild(span);
		
		var span=document.createElement("span");
		span.style.position="absolute";
		span.style.width="130px";
		span.style.height="80px";
		span.style.textAlign="center";
		span.style.lineHeight="70px";
		span.style.color="#aaaaaa";
		span.style.margin="10px 10px";
		span.style.top=keyBoardCharRow*100+"px";
		span.style.left="1500px";
		span.style.fontSize="36px";
		span.id="Done";
		span.onmousedown = function(evt){
				if(evt.button == 0){
					//right key
					if(keyBoardFocus == "keyboard")
					{
						spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
						positionH=keyBoardCharRow;
						positionV=5;
						$("spanFocus").style.display="none";
						$("imgFocus0").style.display="none";
						$("imgFocus1").style.display="none";
						$("imgFocus2").style.display="none";
						$("imgFocus3").style.display="none";
						$("imgFocus4").style.display="none";
						$("imgFocus5").style.display="block";
						mouseCallBack.funcOk();
					}
				}
			}
		span.style.backgroundImage=ButtonImg[0];
		$("keyBoard").appendChild(span);
		
		spanList=$("keyBoard").getElementsByTagName("span");

        for(var i=0;i<keyBoardCharRow;i++)
        {
            for(var j=0;j<keyBoardCharColumn;j++)
            {
                spanList[i*keyBoardCharColumn+j].innerHTML=replaceT(keyBoardChar[i][j][0]);
            }
        }
        spanList[0].style.backgroundImage="none";

        if(curCountry == 12){//thailand
            spanList[keyBoardCharRow*keyBoardCharColumn-1].innerHTML = "";
        }else{
            spanList[keyBoardCharColumn-1].innerHTML = "";
        }
        
        var backImg=document.createElement("img");
        backImg.style.position="absolute";
        if(curCountry == 12){//thailand
            backImg.style.top=(keyBoardCharRow-1)*100+35+"px";
        }
        else{
            backImg.style.top="35px";
        }
        backImg.style.left="1550px";
        backImg.src=prefix+"images/Backspace_1.png";
        backImg.style.zIndex="100";
        backImg.onmousedown = function(evt){
            if(evt.button == 0){
                //right key
                if(keyBoardFocus == "keyboard")
                {
                    spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
                    positionV=keyBoardCharColumn-1;
                    positionH=0;
                    $("spanFocus").style.display="block";
                    $("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*KEY_BOARD_STEP_OTHER+"px";
                    $("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
                    $("imgFocus0").style.display="none";
                    $("imgFocus1").style.display="none";
                    $("imgFocus2").style.display="none";
                    $("imgFocus3").style.display="none";
                    $("imgFocus4").style.display="none";
                    $("imgFocus5").style.display="none";
                    mouseCallBack.funcOk()
                }
            }
        }
        $("keyBoard").appendChild(backImg);

        var cabImg = document.createElement("img");
        cabImg.style.position = "absolute";
        cabImg.style.top = 100*(keyBoardCharRow-1)+30+"px";/*230px*/
        cabImg.style.left = "60px";
        cabImg.id = "cabImg";
        cabImg.src = cabImgs[0];
        $("keyBoard").appendChild(cabImg);
        if(keyBoardChar[keyBoardCharRow-1][0] == "shift")
        {
        	spanList[keyBoardCharColumn*(keyBoardCharRow-1)].innerHTML = "";
            $("cabImg").style.display="block";
        }
        else
		{
            $("cabImg").style.display="none";
		}
		/*************************/

		
		var langImg=document.createElement("img");
		langImg.style.position="absolute";
		langImg.style.top="20px";
		langImg.style.left="59px";
		langImg.src=prefix+"images/language_1.png";
		$("langBg").appendChild(langImg);
		
		var imgFocus0=document.createElement("img");
		imgFocus0.style.position="absolute";
		imgFocus0.style.top=100*(keyBoardCharRow-1)+96+"px";/*296px*/
		imgFocus0.style.left="-4px";
		imgFocus0.src=ImgFocus[1];
		imgFocus0.id="imgFocus0";
		imgFocus0.style.display="none";
		imgFocus0.onmousedown = function(evt){
			if(evt.button == 0){
				if(keyBoardFocus == "keyboard")
				{
				  mouseCallBack.funcOk()
				}
			}
		}
		$("keyBoard").appendChild(imgFocus0);
		
		var imgFocus1=document.createElement("img");
		imgFocus1.style.position="absolute";
		imgFocus1.style.top=100*(keyBoardCharRow-1)+96+"px";
		imgFocus1.style.left="221px";
		imgFocus1.src=ImgFocus[1];
		imgFocus1.id="imgFocus1";
		imgFocus1.style.display="none";
		imgFocus1.onmousedown = function(evt){
			if(evt.button == 0){
				if(keyBoardFocus == "keyboard")
				{
				  mouseCallBack.funcOk()
				}
			}
		}
		$("keyBoard").appendChild(imgFocus1);
		
		var imgFocus2=document.createElement("img");
		imgFocus2.style.position="absolute";
		imgFocus2.style.top=100*(keyBoardCharRow-1)+96+"px";
		imgFocus2.style.left="446px";
		imgFocus2.src=ImgFocus[2];
		imgFocus2.id="imgFocus2";
		imgFocus2.style.display="none";
		imgFocus2.onmousedown = function(evt){
			if(evt.button == 0){
				if(keyBoardFocus == "keyboard")
				{
				  mouseCallBack.funcOk()
				}
			}
		}
		$("keyBoard").appendChild(imgFocus2);
		
		var imgFocus3=document.createElement("img");
		imgFocus3.style.position="absolute";
		imgFocus3.style.top=100*(keyBoardCharRow-1)+96+"px";
		imgFocus3.style.left="1196px";
		imgFocus3.src=spansFocus[0];
		imgFocus3.id="imgFocus3";
		imgFocus3.style.display="none";
		imgFocus3.onmousedown = function(evt){
			if(evt.button == 0){
				if(keyBoardFocus == "keyboard")
				{
				  mouseCallBack.funcOk()
				}
			}
		}
		$("keyBoard").appendChild(imgFocus3);
		
		var img=document.createElement("img");
		img.style.position="absolute";
		img.style.top="20px";
		img.src=prefix+"images/setting_1.png";
		img.style.left="45px";
		$("setting").appendChild(img);
		
		var imgFocus4=document.createElement("img");
		imgFocus4.style.position="absolute";
		imgFocus4.style.top=100*(keyBoardCharRow-1)+96+"px";
		imgFocus4.style.left="1346px";
		imgFocus4.src=spansFocus[0];
		imgFocus4.id="imgFocus4";
		imgFocus4.style.display="none";
		imgFocus4.onmousedown = function(evt){
			if(evt.button == 0){
				if(keyBoardFocus == "keyboard")
				{
				  mouseCallBack.funcOk()
				}
			}
		}
		$("keyBoard").appendChild(imgFocus4);
		var img=document.createElement("img");
		img.style.position="absolute";
		img.style.top="30px";
		img.src=prefix+"images/Done_1.png";
		img.style.left="45px";
		$("Done").appendChild(img);
		
		var imgFocus5=document.createElement("img");
		imgFocus5.style.position="absolute";
		imgFocus5.style.top=100*(keyBoardCharRow-1)+96+"px";
		imgFocus5.style.left="1496px";
		imgFocus5.src=spansFocus[0];
		imgFocus5.id="imgFocus5";
		imgFocus5.style.display="none";
		imgFocus5.onmousedown = function(evt){
			if(evt.button == 0){
				if(keyBoardFocus == "keyboard")
				{
				  mouseCallBack.funcOk()
				}
			}
		}
		$("keyBoard").appendChild(imgFocus5);
		
		var showMulCharDiv = document.createElement("div");
		showMulCharDiv.style.height="65px";
		showMulCharDiv.style.width="1920px";
		showMulCharDiv.style.position="absolute";
        if(keyBoardCharRow == 4){
            showMulCharDiv.style.top="455px";/*555*/
        }else{
            showMulCharDiv.style.top="555px";/*555*/
        }
		showMulCharDiv.style.background="#000000";
		showMulCharDiv.id="showMulChar";
		showMulCharDiv.style.display="none";
		showMulCharDiv.style.zIndex="500";
		showMulCharDiv.onmousedown=function(evt){
			if(evt.button == 2){
				if(keyBoardFocus == "mulChar")
				{
					$("showMulFocus").style.left="0px";
					$("showMulChar").style.display="none";
					mulPositionV=0;
					$("spanFocus").src=spansFocus[0];
					keyBoardFocus = "keyboard";
				}
			}
		}
		document.body.appendChild(showMulCharDiv);
		

		var span=document.createElement("span");
			span.style.position="absolute";
			span.style.width="138px";
			span.style.height="45px";
			span.style.top = "10px";
			span.style.textAlign="center";
			span.style.lineHeight="100px";
			span.style.color="#000000";
			span.style.borderRight="1px solid #666";
			span.style.fontSize="50px";
			$("showMulChar").appendChild(span);
		for(var i=0;i<11;i++)
		{
			var span=document.createElement("span");
			span.style.position="absolute";
			span.style.width="148px";
			span.style.height="45px";
			span.style.top = "10px";
			span.style.textAlign="center";
			span.style.lineHeight="45px";
			span.style.color="#ffffff";
			span.innerHTML="a";
			span.style.borderRight="1px solid #666";
			span.style.left=138+i*146+"px";
			span.style.fontSize="36px";
			span.setAttribute("newAttr",i);
			span.onmousedown = function(evt){
					if(evt.button == 0){
						//right key
						if(keyBoardFocus == "mulChar"&&parseInt(this.getAttribute("newAttr"))<=keyBoardChar[positionH][positionV].length-1)
						{
							  $("showMulFocus").style.display="block";
							  mulPositionV=parseInt(this.getAttribute("newAttr"));
							  $("showMulFocus").style.left=MUL_START+mulPositionV*MUL_STEP+"px";
							  mouseCallBack.funcOk()
						}
					}
				}
			$("showMulChar").appendChild(span);
		}
		var showMulFocus=document.createElement("img");
		showMulFocus.style.position="absolute";
		showMulFocus.style.left="138px";
		showMulFocus.style.height="65px";
		showMulFocus.style.width="146px";
		showMulFocus.src=ImgFocus[0];
		showMulFocus.style.display="block";
		showMulFocus.id="showMulFocus";
		showMulFocus.onmousedown = function(evt){
					if(evt.button == 0){
						//right key
						if(keyBoardFocus == "mulChar")
						{
							  mouseCallBack.funcOk()
						}
					}
				}
		$("showMulChar").appendChild(showMulFocus);
		mulCharList=$("showMulChar").getElementsByTagName("span");
	}
	$("langChange").innerHTML=langList[curCountry];
}

function keyBoardLayoutChange()
{
    hiddenKeyBoard();
    console.log("=============keyBoardLayoutChange()->charFlag="+charFlag+"====keyBoardCharRow="+keyBoardCharRow+"===keyBoardCharColumn="+keyBoardCharColumn);

    {
        document.body.onmousedown=function(evt){evt.preventDefault();};
        document.body.onmouseup=function(evt){mouseCallBack.funcMouseUp(evt);};
        keyBoardFlag=1;
        var bgDiv  = document.createElement("div");
        if(keyBoardCharRow == 4){
            bgDiv.style.height="560px";/*460*/
            bgDiv.style.top="516px";/*616*/
        }else{
            bgDiv.style.height="460px";/*460*/
            bgDiv.style.top="616px";/*616*/
        }
        bgDiv.style.width="1920px";
        bgDiv.style.position="absolute";

        bgDiv.style.background="#000000";
        bgDiv.style.borderTop ="4px solid #1b1b1b";
        //bgDiv.style.opacity="0.92";
        bgDiv.style.zIndex="500";
        bgDiv.id="keyBoardBg";
        try
        {
            bgDiv.onmousedown = function(evt){
                evt.preventDefault();
                top.timeoutFuc.osdTimeoutEndFuc();
                if(evt.button == 2)
                {
                    mouseCallBack.funcBack();
                }
                top.timeoutFuc.osdTimeoutStartFuc();
                //right key
            }
        }catch(er)
        {
            console.log("key:"+er);
        }
        document.body.appendChild(bgDiv);
        var bodyDiv=document.createElement("div");
        if(keyBoardCharRow == 4){
            bodyDiv.style.height="540px";/*440*/
        }else{
            bodyDiv.style.height="440px";/*440*/
        }
        bodyDiv.style.left="135px";
        bodyDiv.style.width="1630px";
        bodyDiv.style.position="absolute";
        bodyDiv.style.top="20px";
        bodyDiv.id="keyBoard";
        $("keyBoardBg").appendChild(bodyDiv);
        try
        {
            for (var i = 0; i < keyBoardCharRow; i++) {
                for (var j = 0; j < keyBoardCharColumn; j++) {
                    var span = document.createElement("span");
                    span.style.position = "absolute";
                    span.style.width = "130px";
                    span.style.height = "80px";
                    span.style.textAlign = "center";
                    span.style.lineHeight = "70px";
                    span.style.color = "#aaaaaa";
                    span.style.margin = "10px 10px";
                    span.style.left = j * ((1630 - 130) / (keyBoardCharColumn - 1)) + "px";
                    span.style.top = i * 100 + "px";
                    span.style.fontSize = "36px";
                    span.setAttribute("newAttr", i);
                    span.setAttribute("newAttr1", j);
                    span.style.backgroundImage = ButtonImg[0];
                    span.onmousedown = function (evt) {
                        if (evt.button == 0) {
                            //right key
                            if (keyBoardFocus == "keyboard") {
                                spanList[positionH * keyBoardCharColumn + positionV].style.backgroundImage = showButtonImg();
                                positionH = parseInt(this.getAttribute("newAttr"));
                                positionV = parseInt(this.getAttribute("newAttr1"));
                                $("spanFocus").style.display = "block";
                                if(keyBoardCharColumn == 12)
                                {
                                    $("spanFocus").style.left = KEY_BOARD_START_OTHER + positionV * KEY_BOARD_STEP_WIDE + "px";
                                }
                                else
                                {
                                    $("spanFocus").style.left = KEY_BOARD_START_OTHER + positionV * KEY_BOARD_STEP_OTHER + "px";
                                }
                                $("spanFocus").style.top = KEY_BOARD_TOP_START_OTHER + positionH * KEY_BOARD_TOP_STEP_OTHER + "px";
                                $("imgFocus0").style.display = "none";
                                $("imgFocus1").style.display = "none";
                                $("imgFocus2").style.display = "none";
                                $("imgFocus3").style.display = "none";
                                $("imgFocus4").style.display = "none";
                                $("imgFocus5").style.display = "none";
                                mouseCallBack.funcOk()
                            }
                        }
                    }
                    $("keyBoard").appendChild(span);
                }
            }
        }catch(er)
        {
            console.log("key:"+er);
        }
        var spanFocus=document.createElement("img");
        spanFocus.style.position="absolute";
        spanFocus.style.width="160px";
        spanFocus.style.height="110px";
        spanFocus.style.top="-4px";
        spanFocus.style.left="-4px";
        spanFocus.src=spansFocus[0];
        spanFocus.id="spanFocus";
        spanFocus.style.zIndex="100";
        spanFocus.onmousedown = function(evt){
            if(evt.button == 0){
                if(keyBoardFocus == "keyboard")
                {
                    mouseCallBack.funcOk();
                }
            }
        }
        $("keyBoard").appendChild(spanFocus);
        var span=document.createElement("span");
        span.style.position="absolute";
        span.style.width="205px";
        span.style.height="80px";
        span.style.textAlign="center";
        span.style.lineHeight="70px";
        span.style.margin="10px 10px";
        span.style.top=100*keyBoardCharRow+"px";/*300px*/
        span.id="langBg";
        span.style.fontSize="36px";
        span.style.color="#aaaaaa";
        span.style.backgroundImage=ButtonImg[1];
        span.onmousedown = function(evt){
            if(evt.button == 0){
                //right key
                if(keyBoardFocus == "keyboard")
                {
                	spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
                    positionH=keyBoardCharRow;
                    positionV=0;
                    $("spanFocus").style.display="none";
                    $("imgFocus0").style.display="block";
                    $("imgFocus1").style.display="none";
                    $("imgFocus2").style.display="none";
                    $("imgFocus3").style.display="none";
                    $("imgFocus4").style.display="none";
                    $("imgFocus5").style.display="none";
                    mouseCallBack.funcOk()
                }
            }
        }
        $("keyBoard").appendChild(span);
        var div=document.createElement("div");
        div.style.position="absolute";
        div.style.width="100px";
        div.style.height="80px";
        div.style.textAlign="left";
        div.style.lineHeight="70px";
        div.style.margin="5px";
        div.style.left="100px";
        div.id="langChange";
        div.innerHTML="EN";
        $("langBg").appendChild(div);
        var span=document.createElement("span");
        span.style.position="absolute";
        span.style.width="205px";
        span.style.height="80px";
        span.style.textAlign="center";
        span.style.lineHeight="70px";
        span.style.margin="10px 10px";
        span.style.top=100*keyBoardCharRow+"px";
        span.style.left="225px";
        span.style.fontSize="36px";
        span.style.color="#aaaaaa";
        span.innerHTML="123#";
        span.style.fontFamily="Segoe Condensed";
        span.id="charChange";
        span.style.backgroundImage=ButtonImg[1];
        span.onmousedown = function(evt){
            if(evt.button == 0){
                //right key
                if(keyBoardFocus == "keyboard"){
                    spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
                    positionH=keyBoardCharRow;
                    positionV=1;
                    $("spanFocus").style.display="none";
                    $("imgFocus0").style.display="none";
                    $("imgFocus1").style.display="block";
                    $("imgFocus2").style.display="none";
                    $("imgFocus3").style.display="none";
                    $("imgFocus4").style.display="none";
                    $("imgFocus5").style.display="none";
                    mouseCallBack.funcOk();
                }
            }
        }
        $("keyBoard").appendChild(span);
        var span=document.createElement("span");
        span.style.position="absolute";
        span.style.width="730px";
        span.style.height="80px";
        span.style.textAlign="center";
        span.style.lineHeight="70px";
        span.style.margin="10px 10px";
        span.style.top=100*keyBoardCharRow+"px";
        span.style.left="450px";
        span.style.color="#aaaaaa";
        span.style.fontSize="36px";
        span.id="space";
        span.style.backgroundImage=ButtonImg[3];
        span.onmousedown = function(evt){
            if(evt.button == 0){
                //right key
                if(keyBoardFocus == "keyboard")
                {
                	spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
                    positionH=keyBoardCharRow;
                    positionV=2;
                    $("spanFocus").style.display="none";
                    $("imgFocus0").style.display="none";
                    $("imgFocus1").style.display="none";
                    $("imgFocus2").style.display="block";
                    $("imgFocus3").style.display="none";
                    $("imgFocus4").style.display="none";
                    $("imgFocus5").style.display="none";
                    mouseCallBack.funcOk();
                }
            }
        }
        $("keyBoard").appendChild(span);
        var span=document.createElement("span");
        span.style.position="absolute";
        span.style.width="130px";
        span.style.height="80px";
        span.style.textAlign="center";
        span.style.lineHeight="70px";
        span.style.color="#aaaaaa";
        span.style.margin="10px 10px";
        span.style.top=100*keyBoardCharRow+"px";
        span.style.left="1200px";
        span.style.fontSize="36px";
        span.style.fontFamily="Segoe Condensed";
        span.id="netFlag";
        span.innerHTML="@";
        span.style.backgroundImage=ButtonImg[0];
        span.onmousedown = function(evt){
            if(evt.button == 0){
                //right key
                if(keyBoardFocus == "keyboard")
                {
                    spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
                    positionH=keyBoardCharRow;
                    positionV=3;
                    $("spanFocus").style.display="none";
                    $("imgFocus0").style.display="none";
                    $("imgFocus1").style.display="none";
                    $("imgFocus2").style.display="none";
                    $("imgFocus3").style.display="block";
                    $("imgFocus4").style.display="none";
                    $("imgFocus5").style.display="none";
                    mouseCallBack.funcOk()
                }
            }
        }
        $("keyBoard").appendChild(span);
        var span=document.createElement("span");
        span.style.position="absolute";
        span.style.width="130px";
        span.style.height="80px";
        span.style.textAlign="center";
        span.style.lineHeight="70px";
        span.style.color="#aaaaaa";
        span.style.margin="10px 10px";
        span.style.top=100*keyBoardCharRow+"px";
        span.style.left="1350px";
        span.style.fontSize="36px";
        span.id="setting";
        span.onmousedown = function(evt){
            if(evt.button == 0){
                //right key
                if(keyBoardFocus == "keyboard")
                {
					spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
                    positionH=keyBoardCharRow;
                    positionV=4;
                    $("spanFocus").style.display="none";
                    $("imgFocus0").style.display="none";
                    $("imgFocus1").style.display="none";
                    $("imgFocus2").style.display="none";
                    $("imgFocus3").style.display="none";
                    $("imgFocus4").style.display="block";
                    $("imgFocus5").style.display="none";
                    mouseCallBack.funcOk();
                }
            }
        }
        span.style.backgroundImage=ButtonImg[0];
        $("keyBoard").appendChild(span);

        var span=document.createElement("span");
        span.style.position="absolute";
        span.style.width="130px";
        span.style.height="80px";
        span.style.textAlign="center";
        span.style.lineHeight="70px";
        span.style.color="#aaaaaa";
        span.style.margin="10px 10px";
        span.style.top=100*keyBoardCharRow+"px";
        span.style.left="1500px";
        span.style.fontSize="36px";
        span.id="Done";
        span.onmousedown = function(evt){
            if(evt.button == 0){
                //right key
                if(keyBoardFocus == "keyboard")
                {
                	spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
                    positionH=keyBoardCharRow;
                    positionV=5;
                    $("spanFocus").style.display="none";
                    $("imgFocus0").style.display="none";
                    $("imgFocus1").style.display="none";
                    $("imgFocus2").style.display="none";
                    $("imgFocus3").style.display="none";
                    $("imgFocus4").style.display="none";
                    $("imgFocus5").style.display="block";
                    mouseCallBack.funcOk();
                }
            }
        }
        span.style.backgroundImage=ButtonImg[0];
        $("keyBoard").appendChild(span);

        spanList=$("keyBoard").getElementsByTagName("span");

        for (var i = 0; i < keyBoardCharRow; i++)
        {
            for (var j = 0; j < keyBoardCharColumn; j++)
            {
                spanList[i * keyBoardCharColumn + j].innerHTML = replaceT(keyBoardChar[i][j][0]);
            }
        }

        spanList[0].style.backgroundImage = "none";

        if((curCountry == 12)&&(keyBoardChar[keyBoardCharRow-1][0] == "shift")){//thailand
            spanList[keyBoardCharRow*keyBoardCharColumn-1].innerHTML = "";
        }else{
            spanList[keyBoardCharColumn-1].innerHTML = "";
        }

        var backImg=document.createElement("img");
        backImg.style.position="absolute";
        if((curCountry == 12)&&(keyBoardChar[keyBoardCharRow-1][0] == "shift")){//thailand
            backImg.style.top=(keyBoardCharRow-1)*100+35+"px";
        }
        else{
            backImg.style.top="35px";
        }
        backImg.style.left="1550px";
        backImg.src=prefix+"images/Backspace_1.png";
        backImg.style.zIndex="100";
        backImg.onmousedown = function(evt){
            if(evt.button == 0){
                //right key
                if(keyBoardFocus == "keyboard")
                {
                	spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
                	positionV=keyBoardCharColumn-1;
                    positionH=0;
                    $("spanFocus").style.display="block";
                    $("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*KEY_BOARD_STEP_OTHER+"px";
                    $("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
                    $("imgFocus0").style.display="none";
                    $("imgFocus1").style.display="none";
                    $("imgFocus2").style.display="none";
                    $("imgFocus3").style.display="none";
                    $("imgFocus4").style.display="none";
                    $("imgFocus5").style.display="none";
                    mouseCallBack.funcOk()
                }
            }
        }
        $("keyBoard").appendChild(backImg);

		var cabImg=document.createElement("img");
		cabImg.style.position="absolute";
		cabImg.style.top=100*(keyBoardCharRow-1)+30+"px";/*230px*/
		cabImg.style.left="60px";
		cabImg.id="cabImg";
		cabImg.src=cabImgs[0];
		$("keyBoard").appendChild(cabImg);
        if(keyBoardChar[keyBoardCharRow-1][0] == "shift")
        {
            $("cabImg").src=cabImgs[0];
            $("cabImg").style.display="block";
            spanList[keyBoardCharColumn*(keyBoardCharRow-1)].innerHTML = "";
        }
        else
        {
            $("cabImg").style.display="none";
        }
        /*************************/


        var langImg=document.createElement("img");
        langImg.style.position="absolute";
        langImg.style.top="20px";
        langImg.style.left="59px";
        langImg.src=prefix+"images/language_1.png";
        $("langBg").appendChild(langImg);

        var imgFocus0=document.createElement("img");
        imgFocus0.style.position="absolute";
        imgFocus0.style.top=100*(keyBoardCharRow-1)+96+"px";/*296px*/
        imgFocus0.style.left="-4px";
        imgFocus0.src=ImgFocus[1];
        imgFocus0.id="imgFocus0";
        imgFocus0.style.display="none";
        imgFocus0.onmousedown = function(evt){
            if(evt.button == 0){
                if(keyBoardFocus == "keyboard")
                {
                    mouseCallBack.funcOk()
                }
            }
        }
        $("keyBoard").appendChild(imgFocus0);

        var imgFocus1=document.createElement("img");
        imgFocus1.style.position="absolute";
        imgFocus1.style.top=100*(keyBoardCharRow-1)+96+"px";
        imgFocus1.style.left="221px";
        imgFocus1.src=ImgFocus[1];
        imgFocus1.id="imgFocus1";
        imgFocus1.style.display="none";
        imgFocus1.onmousedown = function(evt){
            if(evt.button == 0){
                if(keyBoardFocus == "keyboard")
                {
                    mouseCallBack.funcOk()
                }
            }
        }
        $("keyBoard").appendChild(imgFocus1);

        var imgFocus2=document.createElement("img");
        imgFocus2.style.position="absolute";
        imgFocus2.style.top=100*(keyBoardCharRow-1)+96+"px";
        imgFocus2.style.left="446px";
        imgFocus2.src=ImgFocus[2];
        imgFocus2.id="imgFocus2";
        imgFocus2.style.display="none";
        imgFocus2.onmousedown = function(evt){
            if(evt.button == 0){
                if(keyBoardFocus == "keyboard")
                {
                    mouseCallBack.funcOk()
                }
            }
        }
        $("keyBoard").appendChild(imgFocus2);

        var imgFocus3=document.createElement("img");
        imgFocus3.style.position="absolute";
        imgFocus3.style.top=100*(keyBoardCharRow-1)+96+"px";
        imgFocus3.style.left="1196px";
        imgFocus3.src=spansFocus[0];
        imgFocus3.id="imgFocus3";
        imgFocus3.style.display="none";
        imgFocus3.onmousedown = function(evt){
            if(evt.button == 0){
                if(keyBoardFocus == "keyboard")
                {
                    mouseCallBack.funcOk()
                }
            }
        }
        $("keyBoard").appendChild(imgFocus3);

        var img=document.createElement("img");
        img.style.position="absolute";
        img.style.top="20px";
        img.src=prefix+"images/setting_1.png";
        img.style.left="45px";
        $("setting").appendChild(img);

        var imgFocus4=document.createElement("img");
        imgFocus4.style.position="absolute";
        imgFocus4.style.top=100*(keyBoardCharRow-1)+96+"px";
        imgFocus4.style.left="1346px";
        imgFocus4.src=spansFocus[0];
        imgFocus4.id="imgFocus4";
        imgFocus4.style.display="none";
        imgFocus4.onmousedown = function(evt){
            if(evt.button == 0){
                if(keyBoardFocus == "keyboard")
                {
                    mouseCallBack.funcOk()
                }
            }
        }
        $("keyBoard").appendChild(imgFocus4);
        var img=document.createElement("img");
        img.style.position="absolute";
        img.style.top="30px";
        img.src=prefix+"images/Done_1.png";
        img.style.left="45px";
        $("Done").appendChild(img);

        var imgFocus5=document.createElement("img");
        imgFocus5.style.position="absolute";
        imgFocus5.style.top=100*(keyBoardCharRow-1)+96+"px";
        imgFocus5.style.left="1496px";
        imgFocus5.src=spansFocus[0];
        imgFocus5.id="imgFocus5";
        imgFocus5.style.display="none";
        imgFocus5.onmousedown = function(evt){
            if(evt.button == 0){
                if(keyBoardFocus == "keyboard")
                {
                    mouseCallBack.funcOk()
                }
            }
        }
        $("keyBoard").appendChild(imgFocus5);

        var showMulCharDiv = document.createElement("div");
        showMulCharDiv.style.height="65px";
        showMulCharDiv.style.width="1920px";
        showMulCharDiv.style.position="absolute";
        if(keyBoardCharRow == 4){
            showMulCharDiv.style.top="455px";/*555*/
        }else{
            showMulCharDiv.style.top="555px";/*555*/
        }
        showMulCharDiv.style.background="#000000";
        showMulCharDiv.id="showMulChar";
        showMulCharDiv.style.display="none";
        showMulCharDiv.style.zIndex="500";
        showMulCharDiv.onmousedown=function(evt){
            if(evt.button == 2){
                if(keyBoardFocus == "mulChar")
                {
                    $("showMulFocus").style.left="0px";
                    $("showMulChar").style.display="none";
                    mulPositionV=0;
                    $("spanFocus").src=spansFocus[0];
                    keyBoardFocus = "keyboard";
                }
            }
        }
        document.body.appendChild(showMulCharDiv);


        var span=document.createElement("span");
        span.style.position="absolute";
        span.style.width="138px";
        span.style.height="45px";
        span.style.top = "10px";
        span.style.textAlign="center";
        span.style.lineHeight="100px";
        span.style.color="#000000";
        span.style.borderRight="1px solid #666";
        span.style.fontSize="50px";
        $("showMulChar").appendChild(span);
        for(var i=0;i<11;i++)
        {
            var span=document.createElement("span");
            span.style.position="absolute";
            span.style.width="148px";
            span.style.height="45px";
            span.style.top = "10px";
            span.style.textAlign="center";
            span.style.lineHeight="45px";
            span.style.color="#ffffff";
            span.innerHTML="a";
            span.style.borderRight="1px solid #666";
            span.style.left=138+i*146+"px";
            span.style.fontSize="36px";
            span.setAttribute("newAttr",i);
            span.onmousedown = function(evt){
                if(evt.button == 0){
                    //right key
                    if(keyBoardFocus == "mulChar"&&parseInt(this.getAttribute("newAttr"))<=keyBoardChar[positionH][positionV].length-1)
                    {
                        $("showMulFocus").style.display="block";
                        mulPositionV=parseInt(this.getAttribute("newAttr"));
                        $("showMulFocus").style.left=MUL_START+mulPositionV*MUL_STEP+"px";
                        mouseCallBack.funcOk()
                    }
                }
            }
            $("showMulChar").appendChild(span);
        }
        var showMulFocus=document.createElement("img");
        showMulFocus.style.position="absolute";
        showMulFocus.style.left="138px";
        showMulFocus.style.height="65px";
        showMulFocus.style.width="146px";
        showMulFocus.src=ImgFocus[0];
        showMulFocus.style.display="block";
        showMulFocus.id="showMulFocus";
        showMulFocus.onmousedown = function(evt){
            if(evt.button == 0){
                //right key
                if(keyBoardFocus == "mulChar")
                {
                    mouseCallBack.funcOk()
                }
            }
        }
        $("showMulChar").appendChild(showMulFocus);
        mulCharList=$("showMulChar").getElementsByTagName("span");
    }
    $("langChange").innerHTML=langList[curCountry];

    //here to recover original focus
    spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
    $("spanFocus").style.display="none";
    positionH = positionHBackup;
    positionV = positionVBackup;
    console.log("=========keyBoardLayoutChange()->positionHBackup="+positionHBackup+"====positionVBackup="+positionVBackup);

    spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage="none";
    if(positionH == keyBoardCharRow)
    {
        $("imgFocus"+positionV).style.display="block";
    }
    else
    {
        console.log("=========keyBoardLayoutChange()->positionH != keyBoardCharRow");
        $("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
        if(keyBoardCharColumn == 12){
            $("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*KEY_BOARD_STEP_WIDE+"px";
        }else{
            $("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*KEY_BOARD_STEP_OTHER+"px";
        }
        $("spanFocus").style.display="block";

    }

}

function hiddenKeySetting()
{
	$("imgFocus4").src=spansFocus[0];
	document.body.removeChild($("bgLeft"));
	document.body.removeChild($("bgRight"));
	setPositionH=0;
	keyBoardFocus = "keyboard";
}
function showLangSetting()
{
	$("imgFocus4").src=spansFocus[1];
	var setDivBgLeft = document.createElement("div");
	setDivBgLeft.style.position="absolute";
	setDivBgLeft.style.border="4px solid #1b1b1b"
	setDivBgLeft.style.height="1072px";
	setDivBgLeft.style.width="400px";
	setDivBgLeft.style.background="#000000";
	setDivBgLeft.style.opacity="0.92";
	setDivBgLeft.id="bgLeft";
	setDivBgLeft.style.zIndex="1000"
	setDivBgLeft.onmousedown = function(evt){
		            top.timeoutFuc.osdTimeoutEndFuc();
					if(evt.button == 2){
						//right key
						if(keyBoardFocus == "keySetting")
						{
							  mouseCallBack.funcBack()
						}
					}
					top.timeoutFuc.osdTimeoutStartFuc();
				}
	document.body.appendChild(setDivBgLeft);
	var remindSpan   = document.createElement("div");
	remindSpan.style.position="absolute";
	remindSpan.style.width ="364px";
	remindSpan.style.top = "98px";
	remindSpan.style.left = "40px";
	remindSpan.style.height="100px"
	remindSpan.style.color="#FFFFFF";
	remindSpan.style.fontSize="24px"
	remindSpan.style.lineHeight="100px";
	remindSpan.innerHTML="Keyboard and input method";
	$("bgLeft").appendChild(remindSpan);
	var remindImg  = document.createElement("img");
	remindImg.style.position="absolute";
	remindImg.style.width ="364px";
	remindImg.style.top = "98px";
	remindImg.style.left = "18px";
	remindImg.style.height="100px"
	remindImg.src=settingImg[0];
	$("bgLeft").appendChild(remindImg);
	var setDivBgRight = document.createElement("div");
	setDivBgRight.style.border="4px solid #1b1b1b"
	setDivBgRight.style.borderLeft="0px solid #1b1b1b"
	setDivBgRight.style.position="absolute";
	setDivBgRight.style.height="1072px";
	setDivBgRight.style.width="500px";
	setDivBgRight.style.left="408px";
	setDivBgRight.style.background="#000000";
	setDivBgRight.style.opacity="0.92";
	setDivBgRight.id="bgRight";
	setDivBgRight.style.zIndex="1000";
	setDivBgRight.onmousedown = function(evt){
		            top.timeoutFuc.osdTimeoutEndFuc();   
					if(evt.button == 2){
						//right key
						if(keyBoardFocus == "keySetting")
						{
							  mouseCallBack.funcBack()
						}
					}
					top.timeoutFuc.osdTimeoutStartFuc();
				}
		document.body.appendChild(setDivBgRight);


	for(var i=0;i<DISPLAY_COUNT/*language.length*/;i++)
	{
		var selectImg = document.createElement("img");
		selectImg.style.position="absolute";
		selectImg.style.top=130+i*70+"px";
		selectImg.style.left=73+"px";
		selectImg.src=checkImg[0];
		selectImg.setAttribute("newAttr",i);
			selectImg.onmousedown = function(evt){
					if(evt.button == 0){
						//right key
						if(keyBoardFocus == "keySetting")
						{
							 setPositionH = parseInt(this.getAttribute("newAttr"));
							 $("selectImgFocus").style.top=KEY_SETTING_TOP_START+KEY_SETTING_TOP_STEP*setPositionH+"px"
							  mouseCallBack.funcOk()
						}
					}
				}
		$("bgRight").appendChild(selectImg);
	}
	selectImgList=$("bgRight").getElementsByTagName("img");
	for(var i=0;i<countryCount;i++)
	{
	    if(countryList[i] < selectImgList.length ){
            selectImgList[countryList[i]].src=checkImg[1];
        }
	}
	for(var i=0;i<DISPLAY_COUNT/*language.length*/;i++)
	{
		var selectSpan = document.createElement("span");
		selectSpan.style.position="absolute";
		selectSpan.style.top=130+i*70+"px";
		selectSpan.style.left=200+"px";
		selectSpan.style.width="100px";
		selectSpan.style.height="80px";
		selectSpan.style.color="#ffffff";
		selectSpan.style.fontSize="24px";
		selectSpan.innerHTML=language[i];
		selectSpan.setAttribute("newAttr",i);
		selectSpan.onmousedown = function(evt){
					if(evt.button == 0){
						//right key
						if(keyBoardFocus == "keySetting")
						{
							 setPositionH = parseInt(this.getAttribute("newAttr"));
							 $("selectImgFocus").style.top=KEY_SETTING_TOP_START+KEY_SETTING_TOP_STEP*setPositionH+"px"
							  mouseCallBack.funcOk()
						}
					}
				}
		$("bgRight").appendChild(selectSpan);
	}
    selectSpanList=$("bgRight").getElementsByTagName("span");
    var selectImgFocus = document.createElement("img");
    selectImgFocus.style.position="absolute";
    selectImgFocus.style.top=100+"px";
    selectImgFocus.style.left=20+"px";
    selectImgFocus.style.width="400px";
    selectImgFocus.style.height="86px";
    selectImgFocus.id="selectImgFocus";
    selectImgFocus.src=settingImg[1];
    selectImgFocus.onmousedown = function(evt){
                if(evt.button == 0){
                    //right key
                    if(keyBoardFocus == "keySetting")
                    {
                          mouseCallBack.funcOk()
                    }
                }
            }
    $("bgRight").appendChild(selectImgFocus);
    var ScrollBar = document.createElement("img");
    ScrollBar.style.position="absolute";
    ScrollBar.style.top=100+"px";
    ScrollBar.style.left=420+"px";
    ScrollBar.style.width="10px";
    ScrollBar.style.height= parseInt(SCROLL_MAX_HEIGHT*DISPLAY_COUNT/language.length,10)+"px";
    ScrollBar.id="ScrollBar";
    ScrollBar.src=prefix+"images/Scroll_bar-Vertical.png";
    ScrollBar.onmousedown = function(evt){
        if(evt.button == 0){
            //right key
            if(keyBoardFocus == "keySetting")
            {
                mouseCallBack.funcOk()
            }
        }
    }
    $("bgRight").appendChild(ScrollBar);
	 keyBoardFocus = "keySetting";
}
var MUL_START  = 138;
var MUL_STEP   = 146;
var KEY_BOARD_START_PYC = -4;
var KEY_BOARD_STEP_PYC = 136;
var KEY_BOARD_START_OTHER =-5;
var KEY_BOARD_STEP_OTHER =150;
var KEY_BOARD_TOP_START_PYC = -4;
var KEY_BOARD_TOP_STEP_PYC = 136;
var KEY_BOARD_TOP_START_OTHER =-4;
var KEY_BOARD_TOP_STEP_OTHER =100;
var KEY_SETTING_TOP_START    = 100;
var KEY_SETTING_TOP_STEP     = 70;
var KEY_BOARD_STEP_WIDE =136;

function showButtonImg()
{
	if(positionH<keyBoardCharRow)
	{
		return ButtonImg[0];
	}
	else
	{
		switch(positionV)
		{
			case 0:
			case 1:
			return ButtonImg[1];
			case 2:
			return ButtonImg[3];
			case 3:
			case 4:
			case 5:
			return ButtonImg[0];
		}
	}
}
function moveLeft()
{
	if(keyBoardFocus == "mulChar")
	{
		mulPositionV--;
		if(mulPositionV<0)
		{
			mulPositionV=keyBoardChar[positionH][positionV].length-1;
		}
		$("showMulFocus").style.left=MUL_START+mulPositionV*MUL_STEP+"px";
	}
	else if(keyBoardFocus == "keyboard")
	{
        var keyboard_step = KEY_BOARD_STEP_OTHER;
        if(keyBoardCharColumn == 12) {
            keyboard_step = KEY_BOARD_STEP_WIDE;
        }
        console.log("==========keyboard_step="+keyboard_step);

		if(positionH<keyBoardCharRow)
		{
			spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
			positionV--;
			if(positionV<0)
			{
				positionV=keyBoardCharColumn-1;
			}
			spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage="none";
			$("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*keyboard_step+"px";
		}
		else
		{
			spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
			$("imgFocus"+positionV).style.display="none";
			positionV--;
			if(positionV<0)
			{
				positionV=5;
			}
			spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage="none";
			$("imgFocus"+positionV).style.display="block";
		}
	}
	else if(keyBoardFocus == "keySetting")
	{
		hiddenKeySetting();
	}
}

function moveRight()
{
	if(keyBoardFocus == "mulChar")
	{
		mulPositionV++;
		if(mulPositionV>keyBoardChar[positionH][positionV].length-1)
		{
			mulPositionV=0;
		}
		$("showMulFocus").style.left=MUL_START+mulPositionV*MUL_STEP+"px";
	}
	else if(keyBoardFocus == "keyboard")
	{
		var keyboard_step = KEY_BOARD_STEP_OTHER;
        if(keyBoardCharColumn == 12) {
            keyboard_step = KEY_BOARD_STEP_WIDE;
        }
        console.log("==========keyboard_step="+keyboard_step);

		if(positionH<keyBoardCharRow)
		{
			try
			{
			spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
			positionV++;
			if(positionV>(keyBoardCharColumn-1))
			{
				positionV=0;	
			}
			spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage="none";
			$("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*keyboard_step+"px";
			}catch(er)
			{
				console.log("er:"+er);
			}
		}
		else
		{
			$("imgFocus"+positionV).style.display="none";
			spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
			positionV++;
			if(positionV>5)
			{
				positionV=0;
			}
			spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage="none";
			$("imgFocus"+positionV).style.display="block";
		}
	}
	else if(keyBoardFocus == "keySetting")
	{
		toOkGetChar();
	}
}
function moveUp()
{
	if(keyBoardFocus == "keyboard")
	{
        var keyboard_step = KEY_BOARD_STEP_OTHER;
        if(keyBoardCharColumn == 12) {
            keyboard_step = KEY_BOARD_STEP_WIDE;
        }
        console.log("==========keyboard_step="+keyboard_step);

		spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
		switch(positionH)
		{
			case 0:
			{
				if(positionV==0 || positionV==1)
				{
					$("spanFocus").style.display="none";
					$("imgFocus0").style.display="block";
					positionH=keyBoardCharRow;
					positionV=0;
				}
				else if(positionV==2)
				{
					$("spanFocus").style.display="none";
					$("imgFocus1").style.display="block";
					positionH=keyBoardCharRow;
					positionV=1;
				}
				else if(positionV>2&&positionV<8)
				{
					$("spanFocus").style.display="none";
					$("imgFocus2").style.display="block";
					positionH=keyBoardCharRow;
					positionV=2;
				}
				else if(positionV==8)
				{
					$("spanFocus").style.display="none";
					$("imgFocus3").style.display="block";
					positionH=keyBoardCharRow;
					positionV=3;
				}
				else if(positionV==9)
				{
					$("spanFocus").style.display="none";
					$("imgFocus4").style.display="block";
					positionH=keyBoardCharRow;
					positionV=4;
				}
				else if(positionV==10)
				{
					$("spanFocus").style.display="none";
					$("imgFocus5").style.display="block";
					positionH=keyBoardCharRow;
					positionV=5;
				}

			}
			break;
			case 1:
			{
				positionH--;
				$("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
			}
			break;
			case 2:
			{
				positionH--;
				$("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
			}
			break;
			case 3:
			{
				if(keyBoardCharRow == 4)
				{
                    positionH--;
                    $("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
                }
				else
				{
                    if(positionV==0)
                    {
                        $("spanFocus").style.display="block";
                        $("imgFocus0").style.display="none";
                        positionH=2;
                        positionV=0;
                    }
                    else if(positionV==1)
                    {
                        $("spanFocus").style.display="block";
                        $("imgFocus1").style.display="none";
                        positionH=2;
                        positionV=2;
                    }
                    else if(positionV==2)
                    {
                        $("spanFocus").style.display="block";
                        $("imgFocus2").style.display="none";
                        positionH=2;
                        positionV=3;
                    }
                    else if(positionV==3)
                    {
                        $("spanFocus").style.display="block";
                        $("imgFocus3").style.display="none";
                        positionH=2;
                        positionV=8;
                    }
                    else if(positionV==4)
                    {
                        $("spanFocus").style.display="block";
                        $("imgFocus4").style.display="none";
                        positionH=2;
                        positionV=9;
                    }
                    else if(positionV==5)
                    {
                        $("spanFocus").style.display="block";
                        $("imgFocus5").style.display="none";
                        if(keyBoardCharColumn == 12)
                        {
                            positionH=2;
                            positionV=11;
                        }
                        else
                        {
                            positionH=2;
                            positionV=10;
                        }

                    }
                    $("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
                    $("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*keyboard_step+"px";
				}

			}
			break;
			case 4:
			{
                if(positionV==0)
                {
                    $("spanFocus").style.display="block";
                    $("imgFocus0").style.display="none";
                    positionH=3;
                    positionV=0;
                }
                else if(positionV==1)
                {
                    $("spanFocus").style.display="block";
                    $("imgFocus1").style.display="none";
                    positionH=3;
                    positionV=2;
                }
                else if(positionV==2)
                {
                    $("spanFocus").style.display="block";
                    $("imgFocus2").style.display="none";
                    positionH=3;
                    positionV=3;
                }
                else if(positionV==3)
                {
                    $("spanFocus").style.display="block";
                    $("imgFocus3").style.display="none";
                    positionH=3;
                    positionV=8;
                }
                else if(positionV==4)
                {
                    $("spanFocus").style.display="block";
                    $("imgFocus4").style.display="none";
                    positionH=3;
                    positionV=9;
                }
                else if(positionV==5)
                {
                    $("spanFocus").style.display="block";
                    $("imgFocus5").style.display="none";
                    if(keyBoardCharColumn == 12)
                    {
                        positionH=3;
                        positionV=11;
                    }
                    else
                    {
                        positionH=3;
                        positionV=10;
                    }
                }
                $("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
                $("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*keyboard_step+"px";
			}
			break;
		}
		spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage="none";
	}
    else if(keyBoardFocus == "keySetting")
	{
	    /*
		setPositionH--;
		if(setPositionH<0)
		{
			setPositionH=language.length-1;
		}
		$("selectImgFocus").style.top=KEY_SETTING_TOP_START+KEY_SETTING_TOP_STEP*setPositionH+"px"
		*/
        console.log("==========moveUp: PositionHoffset="+PositionHoffset+",setPositionH="+setPositionH+",language.length="+language.length);
        if (language.length <= DISPLAY_COUNT)
        {
            console.log("==========moveUp: condition 1");
            setPositionH = setPositionH == 0 ? language.length - 1 : setPositionH - 1;
        }
        else
        {
            console.log("==========moveUp: condition 2");
            if(setPositionH <= 0)
            {
                console.log("==========moveUp: condition 2.1");
                if(PositionHoffset > 0)
                {
                    console.log("==========moveUp: condition 2.1.1");
                    PositionHoffset--;

                }
                else
                {
                    console.log("==========moveUp: condition 2.1.2");
                    setPositionH = DISPLAY_COUNT-1;
                    PositionHoffset = language.length - DISPLAY_COUNT;

                }
                var selectFlag = 0;
                for(var i = 0; i < DISPLAY_COUNT; i++)
                {
                    selectFlag = 0;
                    for(var j=0;j<countryCount;j++)
                    {
                        if(countryList[j] == (PositionHoffset+i)) {
                            selectImgList[i].src=checkImg[1];
                            console.log("==========moveUp: selectImgList["+i+"]=1");
                            selectFlag = 1;
                            break;
                        }
                    }
                    if(selectFlag == 0){
                        selectImgList[i].src=checkImg[0];
                        console.log("==========moveUp: selectImgList["+i+"]=0");
                    }

                    selectSpanList[i].innerHTML = language[PositionHoffset + i];
                }
                $("ScrollBar").style.top = SCROLL_START_TOP + parseInt(SCROLL_MAX_HEIGHT*PositionHoffset/language.length,10) + "px";
                $("ScrollBar").style.height = parseInt(SCROLL_MAX_HEIGHT*DISPLAY_COUNT/language.length,10) + "px";
            }
            else
            {
                console.log("==========moveUp: condition 2.2");
                setPositionH = setPositionH - 1;
            }
        }
        $("selectImgFocus").style.top=KEY_SETTING_TOP_START+KEY_SETTING_TOP_STEP*setPositionH+"px";
	}
}
function moveDown()
{
	if(keyBoardFocus == "mulChar")
	{
		$("showMulFocus").style.left="0px";
		$("showMulChar").style.display="none";
		mulPositionV=0;
		$("spanFocus").src=spansFocus[0];
		keyBoardFocus = "keyboard";
	}
	else if(keyBoardFocus == "keyboard")
	{
        var keyboard_step = KEY_BOARD_STEP_OTHER;
        if(keyBoardCharColumn == 12) {
            keyboard_step = KEY_BOARD_STEP_WIDE;
        }
        console.log("==========keyboard_step="+keyboard_step);

		spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage=showButtonImg();
		switch(positionH)
		{
			case 0:
			{
				{
					positionH++;
					$("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
				}
			}
			break;
			case 1:
			{
				positionH++;
				$("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
			}
			break;
			case 2:
			{
                if(keyBoardCharRow == 4)
                {
                    positionH++;
                    $("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
                }
                else
				{
                    if(positionV==0 || positionV==1)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus0").style.display="block";
                        positionH=3;
                        positionV=0;
                    }
                    else if(positionV==2)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus1").style.display="block";
                        positionH=3;
                        positionV=1;
                    }
                    else if(positionV>2&&positionV<8)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus2").style.display="block";
                        positionH=3;
                        positionV=2;
                    }
                    else if(positionV==8)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus3").style.display="block";
                        positionH=3;
                        positionV=3;
                    }
                    else if(positionV==9)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus4").style.display="block";
                        positionH=3;
                        positionV=4;
                    }
                    else if(positionV==10)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus5").style.display="block";
                        positionH=3;
                        positionV=5;
                    }
                    else if(positionV==11)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus5").style.display="block";
                        positionH=3;
                        positionV=5;
                    }

                }
			}
			break;
			case 3:
			{
				if(keyBoardCharRow == 4)
				{
                    if(positionV==0 || positionV==1)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus0").style.display="block";
                        positionH=4;
                        positionV=0;
                    }
                    else if(positionV==2)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus1").style.display="block";
                        positionH=4;
                        positionV=1;
                    }
                    else if(positionV>2&&positionV<8)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus2").style.display="block";
                        positionH=4;
                        positionV=2;
                    }
                    else if(positionV==8)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus3").style.display="block";
                        positionH=4;
                        positionV=3;
                    }
                    else if(positionV==9)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus4").style.display="block";
                        positionH=4;
                        positionV=4;
                    }
                    else if(positionV==10)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus5").style.display="block";
                        positionH=4;
                        positionV=5;
                    }
                    else if(positionV==11)
                    {
                        $("spanFocus").style.display="none";
                        $("imgFocus5").style.display="block";
                        positionH=4;
                        positionV=5;
                    }
                }
				else
				{
					if(positionV==0)
					{
						$("spanFocus").style.display="block";
						$("imgFocus0").style.display="none";
						positionH=0;
						positionV=0;
					}
					else if(positionV==1)
					{
						$("spanFocus").style.display="block";
						$("imgFocus1").style.display="none";
						positionH=0;
						positionV=2;
					}
					else if(positionV==2)
					{
						$("spanFocus").style.display="block";
						$("imgFocus2").style.display="none";
						positionH=0;
						positionV=3;
					}
					else if(positionV==3)
					{
						$("spanFocus").style.display="block";
						$("imgFocus3").style.display="none";
						positionH=0;
						positionV=8;
					}
					else if(positionV==4)
					{
						$("spanFocus").style.display="block";
						$("imgFocus4").style.display="none";
						positionH=0;
						positionV=9;
					}
					else if(positionV==5)
					{
						$("spanFocus").style.display="block";
						$("imgFocus5").style.display="none";
						positionH=0;
						positionV=10;
					}
					$("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
				    $("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*keyboard_step+"px";
				}

			}
			break;
			case 4:
			{
                if(positionV==0)
                {
                    $("spanFocus").style.display="block";
                    $("imgFocus0").style.display="none";
                    positionH=0;
                    positionV=0;
                }
                else if(positionV==1)
                {
                    $("spanFocus").style.display="block";
                    $("imgFocus1").style.display="none";
                    positionH=0;
                    positionV=2;
                }
                else if(positionV==2)
                {
                    $("spanFocus").style.display="block";
                    $("imgFocus2").style.display="none";
                    positionH=0;
                    positionV=3;
                }
                else if(positionV==3)
                {
                    $("spanFocus").style.display="block";
                    $("imgFocus3").style.display="none";
                    positionH=0;
                    positionV=8;
                }
                else if(positionV==4)
                {
                    $("spanFocus").style.display="block";
                    $("imgFocus4").style.display="none";
                    positionH=0;
                    positionV=9;
                }
                else if(positionV==5)
                {
                    $("spanFocus").style.display="block";
                    $("imgFocus5").style.display="none";
                    positionH=0;
                    positionV=10;
                }
                $("spanFocus").style.top=KEY_BOARD_TOP_START_OTHER+positionH*KEY_BOARD_TOP_STEP_OTHER+"px";
                $("spanFocus").style.left=KEY_BOARD_START_OTHER+positionV*keyboard_step+"px";
            }
			break;
		}
		spanList[positionH*keyBoardCharColumn+positionV].style.backgroundImage="none";
	}
	else if(keyBoardFocus == "keySetting")
	{
	    /*
		setPositionH++;
		if(setPositionH>(language.length-1))
		{
			setPositionH=0;
		}
		$("selectImgFocus").style.top=KEY_SETTING_TOP_START+KEY_SETTING_TOP_STEP*setPositionH+"px"
		*/
        console.log("==========moveDown: PositionHoffset="+PositionHoffset+",setPositionH="+setPositionH+",language.length="+language.length);
        if (language.length <= DISPLAY_COUNT)
        {
            console.log("==========moveDown: condition 1");
            setPositionH = setPositionH == (language.length - 1)? 0 : setPositionH + 1;
        }
        else
        {
            console.log("==========moveDown: condition 2");
            if(setPositionH >= (DISPLAY_COUNT-1))
            {
                console.log("==========moveDown: condition 2.1");
                if((PositionHoffset + setPositionH) >= (language.length - 1))
                {
                    console.log("==========moveDown: condition 2.1.1");
                    PositionHoffset = 0;
                    setPositionH =0;
                }
                else
                {
                    console.log("==========moveDown: condition 2.1.2");
                    PositionHoffset++;
                }

                var selectFlag = 0;
                for(var i = 0; i < DISPLAY_COUNT; i++)
                {
                    selectFlag = 0;
                    for(var j=0;j<countryCount;j++)
                    {
                        if(countryList[j] == (PositionHoffset+i)) {
                            selectImgList[i].src=checkImg[1];
                            console.log("==========moveDown: selectImgList["+i+"]=1");
                            selectFlag = 1;
                            break;
                        }
                    }
                    if(selectFlag == 0){
                        selectImgList[i].src=checkImg[0];
                        console.log("==========moveDown: selectImgList["+i+"]=0");
                    }

                    selectSpanList[i].innerHTML = language[PositionHoffset + i];
                }
                $("ScrollBar").style.top = SCROLL_START_TOP + parseInt(SCROLL_MAX_HEIGHT*PositionHoffset/language.length,10) + "px";
                $("ScrollBar").style.height = parseInt(SCROLL_MAX_HEIGHT*DISPLAY_COUNT/language.length,10) + "px";
            }
            else
            {
                console.log("==========moveDown: condition 2.2");
                setPositionH = setPositionH + 1;
            }
        }
        $("selectImgFocus").style.top=KEY_SETTING_TOP_START+KEY_SETTING_TOP_STEP*setPositionH+"px";
	}
}
/*************************************************************************/
/*  功能描述：获取字符
/*  返回值：如果返回!one表示该字符有多音节 返回back表示backspace键 返回shift表示大小写切换 
/*         返回page1或page2表示货号页切换 返回setting 表示键盘设置页面打开 返回changeChar表示符号和字母之间切换 返回 changeLang 表示切换语言
/************************************************************************/
function toOkGetChar() 
{
	if(keyBoardFocus == "keyboard")
	{
		switch(positionH)
		{
			case 0:
			{
				{
					if((positionV==10)&&(keyBoardCharColumn == 11))
					{
						return keyBoardChar[positionH][positionV];
					}
                    else if((positionV==11)&&(keyBoardCharColumn == 12))
                    {
                        return keyBoardChar[positionH][positionV];
                    }
					else
					{
						if(charFlag==1)
						{
							return keyBoardChar[positionH][positionV];
						}
						else
						{
							if(keyBoardChar[positionH][positionV].length==1)
							{
								return keyBoardChar[positionH][positionV][0];
							}
							else
							{
								$("showMulFocus").style.left=MUL_START+"px";
								$("showMulChar").style.display="block";
								mulPositionV=0;
								for(var i=0;i<keyBoardChar[positionH][positionV].length;i++)
								{
									mulCharList[i+1].innerHTML=replaceT(keyBoardChar[positionH][positionV][i]);
								}
								for(var i=keyBoardChar[positionH][positionV].length;i<11;i++)
								{
									mulCharList[i+1].innerHTML="";
								}
								$("spanFocus").src=spansFocus[1];
								keyBoardFocus = "mulChar";
								return "!one";
							}
						}
					}
				}
			}
			break;
			case 1:
			{
				if(charFlag==1)
				{
					return keyBoardChar[positionH][positionV];
				}
				else
				{
					if(keyBoardChar[positionH][positionV].length==1)
					{
						return keyBoardChar[positionH][positionV][0];
					}
					else
					{
						$("showMulFocus").style.left=MUL_START+"px";
						$("showMulChar").style.display="block";
						mulPositionV=0;
						for(var i=0;i<keyBoardChar[positionH][positionV].length;i++)
						{
							mulCharList[i+1].innerHTML=replaceT(keyBoardChar[positionH][positionV][i]);
						}
						for(var i=keyBoardChar[positionH][positionV].length;i<11;i++)
						{
							mulCharList[i+1].innerHTML="";
						}
						$("spanFocus").src=spansFocus[1];
						keyBoardFocus = "mulChar";
						return "!one";
					}
				}
			}
			break;
			case 2:
			{
                if(keyBoardCharRow == 4)
				{
                    if(charFlag==1)
                    {
                        return keyBoardChar[positionH][positionV];
                    }
                    else
                    {
                        if(keyBoardChar[positionH][positionV].length==1)
                        {
                            return keyBoardChar[positionH][positionV][0];
                        }
                        else
                        {
                            $("showMulFocus").style.left=MUL_START+"px";
                            $("showMulChar").style.display="block";
                            mulPositionV=0;
                            for(var i=0;i<keyBoardChar[positionH][positionV].length;i++)
                            {
                                mulCharList[i+1].innerHTML=replaceT(keyBoardChar[positionH][positionV][i]);
                            }
                            for(var i=keyBoardChar[positionH][positionV].length;i<11;i++)
                            {
                                mulCharList[i+1].innerHTML="";
                            }
                            $("spanFocus").src=spansFocus[1];
                            keyBoardFocus = "mulChar";
                            return "!one";
                        }
                    }
				}
				else
				{
                    if(positionV==0)
                    {
                        if(charFlag==0)
                        {
                            if((keyBoardChar[2][0][0] != "shift"))
                            {
                                return keyBoardChar[positionH][positionV];
                            }
                            else
                            {
                                toChangeCharCap();
                            }
                        }
                        else
                        {
                            toChangeSymPage();
                        }
                        return keyBoardChar[positionH][positionV];
                    }
                    else
                    {
                        if(charFlag==1)
                        {
                            return keyBoardChar[positionH][positionV];
                        }
                        else
                        {
                            if(keyBoardChar[positionH][positionV].length==1)
                            {
                                return keyBoardChar[positionH][positionV][0];
                            }
                            else
                            {
                                $("showMulFocus").style.left=MUL_START+"px";
                                $("showMulChar").style.display="block";
                                mulPositionV=0;
                                for(var i=0;i<keyBoardChar[positionH][positionV].length;i++)
                                {
                                    mulCharList[i+1].innerHTML=replaceT(keyBoardChar[positionH][positionV][i]);
                                }
                                for(var i=keyBoardChar[positionH][positionV].length;i<11;i++)
                                {
                                    mulCharList[i+1].innerHTML="";
                                }
                                $("spanFocus").src=spansFocus[1];
                                keyBoardFocus = "mulChar";
                                return "!one";
                            }
                        }
                    }
				}

			}
			break;
			case 3:
			{
				if(keyBoardCharRow == 4)
				{
                    if(positionV==0)
                    {
                        if(charFlag==0)
                        {
                            if((keyBoardChar[3][0][0] != "shift"))
                            {
                                return keyBoardChar[positionH][positionV];
                            }
                            else
                            {
                                toChangeCharCap();
                            }
                        }
                        else
                        {
                            toChangeSymPage();
                        }
                        return keyBoardChar[positionH][positionV];
                    }
                    else
                    {
                        if(charFlag==1)
                        {
                            return keyBoardChar[positionH][positionV];
                        }
                        else
                        {
                            if(keyBoardChar[positionH][positionV].length==1)
                            {
                                return keyBoardChar[positionH][positionV][0];
                            }
                            else
                            {
                                $("showMulFocus").style.left=MUL_START+"px";
                                $("showMulChar").style.display="block";
                                mulPositionV=0;
                                for(var i=0;i<keyBoardChar[positionH][positionV].length;i++)
                                {
                                    mulCharList[i+1].innerHTML=replaceT(keyBoardChar[positionH][positionV][i]);
                                }
                                for(var i=keyBoardChar[positionH][positionV].length;i<11;i++)
                                {
                                    mulCharList[i+1].innerHTML="";
                                }
                                $("spanFocus").src=spansFocus[1];
                                keyBoardFocus = "mulChar";
                                return "!one";
                            }
                        }
                    }

				}
				else
				{
                    if(positionV==0)
                    {
                        toChangeLang();
                        return "changeLang";
                    }
                    else if(positionV==1)
                    {
                        toChangeChar();
                        return "changeChar";
                    }
                    else if(positionV==2)
                    {
                        return " ";
                    }
                    else if(positionV==3)
                    {
                        if(curCountry == 13)//arabic
                        {
                            if(charFlag == 0) {
                                if(letterCapFlag == 0) {
                                    return "،";
                                }else{
                                    return "@";
                                }
                            }else
                                return "@";

                        }
                        else if(curCountry == 14)//mongol
                        {
                            if(charFlag == 0) {
                            if(letterCapFlag == 0) {
                                return "ө";
                            }else{
                                return "Ө";
                            }
                        }else
                            return "@";
                        }
                        else
                            return "@";

                    }
                    else if(positionV==4)
                    {
                        showLangSetting();
                        return "setting";
                    }
                    else if(positionV==5)
                    {
                        mouseCallBack.funcBack();
                        return "!one";
                    }
				}

			}
			break;
			case 4:
			{
                if(positionV==0)
                {
                    toChangeLang();
                    return "changeLang";
                }
                else if(positionV==1)
                {
                    toChangeChar();
                    return "changeChar";
                }
                else if(positionV==2)
                {
                    return " ";
                }
                else if(positionV==3)
                {
                	/*
                    if(curCountry == 12)//thailand
					{
						if(charFlag ==  0) {
							if(letterCapFlag == 0) {
                                return "ฝ";
							}else{
								return "-";
							}
						}
						else
                            return "@";
					}
                	else
                	*/
                    	return "@";
                }
                else if(positionV==4)
                {
                    showLangSetting();
                    return "setting";
                }
                else if(positionV==5)
                {
                    mouseCallBack.funcBack();
                    return "!one";
                }

			}
			break;
		}
	}
	else if(keyBoardFocus == "mulChar")
	{
		$("showMulFocus").style.left=MUL_START+"px";
		$("showMulChar").style.display="none";
		$("spanFocus").src=spansFocus[0];
		keyBoardFocus = "keyboard";
		var key = keyBoardChar[positionH][positionV][mulPositionV];
		mulPositionV=0;
		return key;
	}
	else if(keyBoardFocus == "keySetting")
	{
		var countryFlag = 0;
		for (var i=0;i<countryCount;i++)
		{
			if((PositionHoffset+setPositionH)==countryList[i])
			{
				countryFlag=1;
				if(PositionHoffset+setPositionH==curCountry)
				{
				}
				else
				{
			
					selectImgList[setPositionH].src=checkImg[0];
					deleteLang(PositionHoffset+setPositionH);
					top.g_setting.setKeyBoardEnable(PositionHoffset+setPositionH,0);
					//countryList=getLangList();
				}
				break;
			}
		}
		if(countryFlag==1)
		{
			
		}
		else
		{
			if(countryCount<3)
			{
				selectImgList[setPositionH].src=checkImg[1];
				addLang(PositionHoffset+setPositionH);
				top.g_setting.setKeyBoardEnable(PositionHoffset+setPositionH,1);
				//countryList=getLangList();
			}
		}
		return "setting";
	}
}
function deleteLang(index)
{
    console.log("=========deleteLang()->index="+index);
	for(var i=0;i<countryList.length;i++)
	{
		if(countryList[i]==index)
		{
			for(var j=i;j<countryList.length;j++)
			{
				countryList[j]=countryList[j+1];
			}
			countryList[countryList.length-1]=-1;
			countryCount--;
			break;
		}
	}
}
function addLang(index)
{
    console.log("=========addLang()->index="+index);
	countryList[countryCount]=index;
	countryCount++;
}
function toChangeChar()
{
	if(charFlag==0)
	{
        if(curCountry == 9) //persian
        {
            keyBoardChar=fasBoardSymbolPage1;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
        }
        else
        {
            keyBoardChar=keyBoardSymbolPage1;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
        }
        //charFlag=1;
        positionHBackup = keyBoardCharRow;
        positionVBackup = positionV;
        console.log("=========toChangeChar()->positionHBackup="+positionHBackup+"====positionVBackup="+positionVBackup);
        keyBoardLayoutChange();

        charFlag=1;
		symbolPageFlag=0;
		$("charChange").innerHTML="abc";
		$("cabImg").style.display="none";
	}
	else
	{
		if(letterCapFlag==0)
		{
			switch(curCountry)
			{
				case 0:
				{
					keyBoardChar = enMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 1:
				{
					keyBoardChar = fraMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 2:
				{
					keyBoardChar = porMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 3:
				{
					keyBoardChar = espMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 4:
				{
					keyBoardChar = deuMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 5:
				{
					keyBoardChar = polMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 6:
				{
					keyBoardChar = sveMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 7:
				{
					keyBoardChar = itaMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 8:
				{
					keyBoardChar = pycMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
                case 9:
                {
                    keyBoardChar = fasMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 12;
                    positionHBackup = keyBoardCharRow;
                    positionVBackup = positionV;
                    console.log("=========toChangeChar()->positionHBackup="+positionHBackup+"====positionVBackup="+positionVBackup);
                    keyBoardLayoutChange();
                }
                break;
				case 10:
				{
                    keyBoardChar = vieMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 11:
				{
					keyBoardChar = hboMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 12:
				{
					keyBoardChar = tnzMinuscules;
                    keyBoardCharRow = 4;
                    keyBoardCharColumn = 12;
                    positionHBackup = keyBoardCharRow;
                    positionVBackup = positionV;
                    keyBoardLayoutChange();
                    //$("netFlag").innerHTML="ฝ";
				}
				break;
                case 13:
                {
                    keyBoardChar = arbMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 12;
                    positionHBackup = keyBoardCharRow;
                    positionVBackup = positionV;
                    keyBoardLayoutChange();
                    $("netFlag").innerHTML="،";
                }
                break;
                case 14:
                {
                    keyBoardChar = mgtMinuscules;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 12;
                    positionHBackup = keyBoardCharRow;
                    positionVBackup = positionV;
                    keyBoardLayoutChange();
                    $("netFlag").innerHTML="ө";
                }
                break;
			}
			$("charChange").innerHTML="123#";
			$("cabImg").src=cabImgs[0];
		}
		else
		{
			switch(curCountry)
			{
				case 0:
				{
					keyBoardChar = enCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 1:
				{
					keyBoardChar = fraCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 2:
				{
					keyBoardChar = porCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 3:
				{
					keyBoardChar = espCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 4:
				{
					keyBoardChar = deuCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 5:
				{
					keyBoardChar = polCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 6:
				{
					keyBoardChar = sveCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 7:
				{
					keyBoardChar = itaCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 8:
				{
					keyBoardChar = pycCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
                case 9:
                {
                    keyBoardChar = fasCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 12;
                    positionHBackup = keyBoardCharRow;
                    positionVBackup = positionV;
                    console.log("=========toChangeChar()->positionHBackup="+positionHBackup+"====positionVBackup="+positionVBackup);
                    keyBoardLayoutChange();
                }
                break;
				case 10:
				{
                    keyBoardChar = vieCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 11:
				{
					keyBoardChar = hboCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
				}
				break;
				case 12:
				{
					keyBoardChar = tnzCapitalLetter;
                    keyBoardCharRow = 4;
                    keyBoardCharColumn = 12;
                    positionHBackup = keyBoardCharRow;
                    positionVBackup = positionV;
                    keyBoardLayoutChange();
                    //$("netFlag").innerHTML="-";
				}
				break;
                case 13:
                {
                    keyBoardChar = arbCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 11;
                    positionHBackup = keyBoardCharRow;
                    positionVBackup = positionV;
                    keyBoardLayoutChange();
                }
                break;
                case 14:
                {
                    keyBoardChar = mgtCapitalLetter;
                    keyBoardCharRow = 3;
                    keyBoardCharColumn = 12;
                    positionHBackup = keyBoardCharRow;
                    positionVBackup = positionV;
                    keyBoardLayoutChange();
                    $("netFlag").innerHTML="Ө";
                }
                break;
			}
			$("charChange").innerHTML="123#";
			$("cabImg").src=cabImgs[1];
		}
		charFlag=0;
        if(keyBoardChar[2][0][0] == "shift")
			$("cabImg").style.display="block";
	}

    for(var i=0;i<keyBoardCharRow;i++)
    {
        for(var j=0;j<keyBoardCharColumn;j++)
        {
            spanList[i*keyBoardCharColumn+j].innerHTML=replaceT(keyBoardChar[i][j][0]);
        }
    }
	if(charFlag==0)
	{
        if(keyBoardChar[0][keyBoardCharColumn-1] == "back")
	        spanList[keyBoardCharColumn-1].innerHTML="";
        else if(keyBoardChar[keyBoardCharRow-1][keyBoardCharColumn-1] == "back")
            spanList[keyBoardCharRow*keyBoardCharColumn-1].innerHTML="";

		if(keyBoardChar[keyBoardCharRow-1][0] == "shift")
			spanList[keyBoardCharColumn*(keyBoardCharRow-1)].innerHTML="";
	}
	else
	{
        if(keyBoardChar[0][keyBoardCharColumn-1] == "back")
        {
            spanList[keyBoardCharColumn-1].innerHTML="";
        }

		spanList[keyBoardCharColumn*(keyBoardCharRow-1)].innerHTML="&lt;&nbsp;1/2&nbsp;&gt;";
	}

}
function toChangeCharCap()
{
	if(letterCapFlag==1)
	{
		switch(curCountry)
		{
			case 0:
			{
				keyBoardChar = enMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 1:
			{
				keyBoardChar = fraMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 2:
			{
				keyBoardChar = porMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 3:
			{
				keyBoardChar = espMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 4:
			{
				keyBoardChar = deuMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 5:
			{
				keyBoardChar = polMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 6:
			{
				keyBoardChar = sveMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 7:
			{
				keyBoardChar = itaMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 8:
			{
				keyBoardChar = pycMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
            case 9:
            {
                keyBoardChar = fasMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 12;
            }
            break;
			case 10:
			{
                keyBoardChar = vieMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 11:
			{
				keyBoardChar = hboMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 12:
			{
				keyBoardChar = tnzMinuscules;
                keyBoardCharRow = 4;
                keyBoardCharColumn = 12;
                //$("netFlag").innerHTML="ฝ";
			}
			break;
            case 13:
            {
                keyBoardChar = arbMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 12;
                positionHBackup = keyBoardCharRow-1;
                positionVBackup = positionV;
                keyBoardLayoutChange();
                $("netFlag").innerHTML="،";
            }
            break;
            case 14:
            {
                keyBoardChar = mgtMinuscules;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 12;
                positionHBackup = keyBoardCharRow-1;
                positionVBackup = positionV;
                keyBoardLayoutChange();
                $("netFlag").innerHTML="ө";
            }
            break;
		}
		letterCapFlag=0;
		$("cabImg").src=cabImgs[0];
	}
	else
	{
		switch(curCountry)
		{
			case 0:
			{
				keyBoardChar = enCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 1:
			{
				keyBoardChar = fraCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 2:
			{
				keyBoardChar = porCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 3:
			{
				keyBoardChar = espCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 4:
			{
				keyBoardChar = deuCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 5:
			{
				keyBoardChar = polCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 6:
			{
				keyBoardChar = sveCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 7:
			{
				keyBoardChar = itaCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 8:
			{
				keyBoardChar = pycCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
            case 9:
            {
                keyBoardChar = fasCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 12;
            }
            break;
			case 10:
			{
                keyBoardChar = vieCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 11:
			{
				keyBoardChar = hboCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
			}
			break;
			case 12:
			{
				keyBoardChar = tnzCapitalLetter;
                keyBoardCharRow = 4;
                keyBoardCharColumn = 12;
                //$("netFlag").innerHTML="-";

			}
			break;
            case 13:
            {
                keyBoardChar = arbCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 11;
                positionHBackup = keyBoardCharRow-1;
                positionVBackup = positionV;
                keyBoardLayoutChange();
                $("netFlag").innerHTML="@";

            }
            break;
            case 14:
            {
                keyBoardChar = mgtCapitalLetter;
                keyBoardCharRow = 3;
                keyBoardCharColumn = 12;
                positionHBackup = keyBoardCharRow-1;
                positionVBackup = positionV;
                keyBoardLayoutChange();
                $("netFlag").innerHTML="Ө";
            }
            break;
		}
		letterCapFlag=1;
		$("cabImg").src=cabImgs[1];
	}
	$("cabImg").style.display="block";

	{
		for(var i=0;i<keyBoardCharRow;i++)
		{
			for(var j=0;j<keyBoardCharColumn;j++)
			{
				spanList[i*keyBoardCharColumn+j].innerHTML=replaceT(keyBoardChar[i][j][0]);
			}
		}
		if(keyBoardChar[0][keyBoardCharColumn-1] == "back")
		    spanList[keyBoardCharColumn-1].innerHTML="";
		else if(keyBoardChar[keyBoardCharRow-1][keyBoardCharColumn-1] == "back")
            spanList[keyBoardCharRow*keyBoardCharColumn-1].innerHTML="";

		spanList[keyBoardCharColumn*(keyBoardCharRow-1)].innerHTML="";
	}
}
function  toChangeSymPage()
{
	if(symbolPageFlag==0)
	{
		if(curCountry == 9)//persian
		{
            keyBoardChar=fasBoardSymbolPage2;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		else
		{
			keyBoardChar=keyBoardSymbolPage2;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		symbolPageFlag=1;
	}
	else
	{
        if(curCountry == 9)//persian
        {
            keyBoardChar=fasBoardSymbolPage1;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
        }
        else
		{
			keyBoardChar=keyBoardSymbolPage1;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		symbolPageFlag=0;
	}

	{
		for(var i=0;i<keyBoardCharRow;i++)
		{
			for(var j=0;j<keyBoardCharColumn;j++)
			{
				spanList[i*keyBoardCharColumn+j].innerHTML=replaceT(keyBoardChar[i][j][0]);
			}
		}

		if(symbolPageFlag==1)
		{
			spanList[keyBoardCharColumn*(keyBoardCharRow-1)].innerHTML="&lt;&nbsp;2/2&nbsp;&gt;";
		}
		else
		{
			spanList[keyBoardCharColumn*(keyBoardCharRow-1)].innerHTML="&lt;&nbsp;1/2&nbsp;&gt;";
		}
		spanList[keyBoardCharColumn-1].innerHTML="";
	}
}
function toChangeLang()
{
	if(countryCount==1)
	{
		return;
	}
	var preCountry=curCountry;
    console.log("=========toChangeLang()->curCountry="+curCountry+"===countryList.length="+countryList.length);
    for(var i=0;i<countryList.length;i++)
	{
		if(curCountry == countryList[i])
		{
            console.log("=========toChangeLang()->i="+i+"===countryCount="+countryCount);
			i++;
			if(i>=countryCount)
			{
				i=0;
			}
			curCountry=countryList[i];
			top.g_setting.currentKeyBoardIndex=curCountry;
			break;
		}
	}
	switch(curCountry)
	{
		case 0:
		{
			keyBoardChar = enMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 1:
		{
			keyBoardChar = fraMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 2:
		{
			keyBoardChar = porMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 3:
		{
			keyBoardChar = espMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 4:
		{
			keyBoardChar = deuMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 5:
		{
			keyBoardChar = polMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 6:
		{
			keyBoardChar = sveMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 7:
		{
			keyBoardChar = itaMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 8:
		{
			keyBoardChar = pycMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
        case 9:
        {
            keyBoardChar = fasMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 12;
        }
        break;
		case 10:
		{
            keyBoardChar = vieMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 11:
		{
            keyBoardChar = hboMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 11;
		}
		break;
		case 12:
		{
			keyBoardChar = tnzMinuscules;
            keyBoardCharRow = 4;
            keyBoardCharColumn = 12;
		}
		break;
        case 13:
        {
            keyBoardChar = arbMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 12;
        }
        break;
        case 14:
        {
            keyBoardChar = mgtMinuscules;
            keyBoardCharRow = 3;
            keyBoardCharColumn = 12;
        }
        break;
	}
    positionHBackup = keyBoardCharRow;
    positionVBackup = positionV;
    keyBoardLayoutChange();

	charFlag=0;
	symbolPageFlag=0;
	$("langChange").innerHTML=langList[curCountry];
	$("charChange").innerHTML="123#";
	/*if(curCountry ==  12)//thailand
    {
        $("netFlag").innerHTML="ฝ";
    }
    else */if(curCountry == 13)//arabic
    {
        $("netFlag").innerHTML="،";
    }
    else if(curCountry == 14)
    {
        $("netFlag").innerHTML="ө";
    }
}
function replaceT(s)
{
	var key=s;
	//console.log("string="+s);
	key=key.replace(/&/g,"&amp;");
	key=key.replace(/</g,"&lt;");
	key=key.replace(/>/g,"&gt;");
	key=key.replace(/×/g,"&times;");
	key=key.replace(/÷/g,"&divide;");
	key=key.replace(/±/g,"&plusmn;");
	key=key.replace(/«/g,"&laquo;");
	key=key.replace(/»/g,"&raquo;");
	key=key.replace(/¦/g,"&brvbar;");
	key=key.replace(/´/g,"&acute;");
	key=key.replace(/©/g,"&copy;");
	key=key.replace(/®/g,"&reg;");
	key=key.replace(/¥/g,"&yen;");
	key=key.replace(/£/g,"&pound;");
	key=key.replace(/€/g,"&euro;");
	key=key.replace(/ /g,"&nbsp;");
	//key=key.replace(/°/g,"&deg;");
	//console.log("key15="+key);
	return key;
}
